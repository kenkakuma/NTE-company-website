import{d as E,ac as _a,ad as ne,ae as q,af as ye,ag as Fe,ah as Ft,ai as tt,aj as mt,k as be,ak as dt,al as Zt,p as O,am as Vt,t as K,an as se,O as a,Z as s,L as Q,a5 as ue,a3 as _e,ao as Ne,ap as Se,aq as pe,ar as ul,y as Ve,as as Ue,at as Qe,au as lt,q as He,E as el,av as gt,a4 as Te,J as ae,i as Re,aw as Ie,ax as jt,ay as yt,az as Rt,aA as kl,v as ve,D as ka,aB as Et,u as j,aC as Sa,o as Sl,G as We,aD as Wt,aE as Va,a6 as Ge,aF as wa,aG as Vl,aH as wl,aI as ke,aJ as Ca,w as ct,aK as Ia,aL as qe,aM as Xe,aN as Cl,aO as Pa,aP as $a,aQ as Ta,$ as R,aR as rl,aS as Ba,aT as Da,aU as Aa,aV as Pt,aW as wt,aX as tl,a7 as Me,_ as G,aY as dl,C as Fa,a9 as Ra,n as at,M as re,N as te,P as v,Q as Ke,a8 as Pe,a2 as Ea,H as Ct,aZ as La,c as Le,a1 as ze,a_ as cl,a$ as Il,b0 as Ma,b1 as Oa,b2 as Ua,b3 as za}from"./BnK3X0rM.js";import{e as Na,u as Ha}from"./tAfASyMD.js";import{a as vl}from"./DOqe6J1J.js";import{M as Lt,m as Mt,V as Pl,a as Ga,I as $t,u as ja,b as Kt,c as Je,d as $l,e as Wa,f as vt,g as $e,h as Ka,i as Xa,j as Ya,k as qa,l as Ja,n as Qa,o as Za}from"./BBdaOU2Q.js";import{m as nt,a as en,V as le}from"./DXXy8Kh-.js";import{u as ot,a as bt}from"./D55FdVBa.js";import{V as X,m as Tl,a as Ot,b as st,c as tn,R as fl,u as ht,d as Bl,e as ll,L as Dl,f as Tt,g as Al,h as ln,i as Fl,j as an,k as nn,l as on,n as Rl,o as sn,p as un,q as rn,r as dn,s as cn,t as vn}from"./DR2hqiTE.js";import{m as El,u as al,a as nl,b as fn}from"./BvG75Wey.js";import{f as it,V as mn,a as De,b as gn,c as me,d as we,e as Oe,g as ge,h as Ae,i as pt,u as yn,m as bn,j as ml,k as hn,l as pn}from"./B7gaDhOH.js";import{V as Ce,a as de}from"./cWUI35T1.js";import{_ as ut}from"./DlAUqK2U.js";function xn(){const e=E([]);_a(()=>e.value=[]);function n(l,t){e.value[t]=l}return{refs:e,updateRef:n}}const _n=q({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:pe,default:"$first"},prevIcon:{type:pe,default:"$prev"},nextIcon:{type:pe,default:"$next"},lastIcon:{type:pe,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...tn(),...Se(),...st(),...El(),...Ot(),...en(),...nt({tag:"nav"}),...Ne(),...Tl({variant:"text"})},"VPagination"),gl=ne()({name:"VPagination",props:_n(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,n){let{slots:l,emit:t}=n;const o=ye(e,"modelValue"),{t:i,n:r}=Fe(),{isRtl:u}=Ft(),{themeClasses:f}=tt(e),{width:h}=mt(),m=be(-1);dt(void 0,{scoped:!0});const{resizeRef:y}=Zt(S=>{if(!S.length)return;const{target:g,contentRect:c}=S[0],B=g.querySelector(".v-pagination__list > *");if(!B)return;const U=c.width,z=B.offsetWidth+parseFloat(getComputedStyle(B).marginRight)*2;m.value=V(U,z)}),_=O(()=>parseInt(e.length,10)),p=O(()=>parseInt(e.start,10)),w=O(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):m.value>=0?m.value:V(h.value,58));function V(S,g){const c=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((S-g*c)/g).toFixed(2))))}const $=O(()=>{if(_.value<=0||isNaN(_.value)||_.value>Number.MAX_SAFE_INTEGER)return[];if(w.value<=0)return[];if(w.value===1)return[o.value];if(_.value<=w.value)return Vt(_.value,p.value);const S=w.value%2===0,g=S?w.value/2:Math.floor(w.value/2),c=S?g:g+1,B=_.value-g;if(c-o.value>=0)return[...Vt(Math.max(1,w.value-1),p.value),e.ellipsis,_.value];if(o.value-B>=(S?1:0)){const U=w.value-1,z=_.value-U+p.value;return[p.value,e.ellipsis,...Vt(U,z)]}else{const U=Math.max(1,w.value-2),z=U===1?o.value:o.value-Math.ceil(U/2)+p.value;return[p.value,e.ellipsis,...Vt(U,z),e.ellipsis,_.value]}});function D(S,g,c){S.preventDefault(),o.value=g,c&&t(c,g)}const{refs:C,updateRef:M}=xn();dt({VPaginationBtn:{color:K(()=>e.color),border:K(()=>e.border),density:K(()=>e.density),size:K(()=>e.size),variant:K(()=>e.variant),rounded:K(()=>e.rounded),elevation:K(()=>e.elevation)}});const I=O(()=>$.value.map((S,g)=>{const c=B=>M(B,g);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${g}`,page:S,props:{ref:c,ellipsis:!0,icon:!0,disabled:!0}};{const B=S===o.value;return{isActive:B,key:S,page:r(S),props:{ref:c,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:B?e.activeColor:e.color,"aria-current":B,"aria-label":i(B?e.currentPageAriaLabel:e.pageAriaLabel,S),onClick:U=>D(U,S)}}}})),b=O(()=>{const S=!!e.disabled||o.value<=p.value,g=!!e.disabled||o.value>=p.value+_.value-1;return{first:e.showFirstLastPage?{icon:u.value?e.lastIcon:e.firstIcon,onClick:c=>D(c,p.value,"first"),disabled:S,"aria-label":i(e.firstAriaLabel),"aria-disabled":S}:void 0,prev:{icon:u.value?e.nextIcon:e.prevIcon,onClick:c=>D(c,o.value-1,"prev"),disabled:S,"aria-label":i(e.previousAriaLabel),"aria-disabled":S},next:{icon:u.value?e.prevIcon:e.nextIcon,onClick:c=>D(c,o.value+1,"next"),disabled:g,"aria-label":i(e.nextAriaLabel),"aria-disabled":g},last:e.showFirstLastPage?{icon:u.value?e.firstIcon:e.lastIcon,onClick:c=>D(c,p.value+_.value-1,"last"),disabled:g,"aria-label":i(e.lastAriaLabel),"aria-disabled":g}:void 0}});function T(){var g;const S=o.value-p.value;(g=C.value[S])==null||g.$el.focus()}function x(S){S.key===ul.left&&!e.disabled&&o.value>Number(e.start)?(o.value=o.value-1,Ve(T)):S.key===ul.right&&!e.disabled&&o.value<p.value+_.value-1&&(o.value=o.value+1,Ve(T))}return se(()=>a(e.tag,{ref:y,class:ue(["v-pagination",f.value,e.class]),style:_e(e.style),role:"navigation","aria-label":i(e.ariaLabel),onKeydown:x,"data-test":"v-pagination-root"},{default:()=>[s("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&s("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[l.first?l.first(b.value.first):a(X,Q({_as:"VPaginationBtn"},b.value.first),null)]),s("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[l.prev?l.prev(b.value.prev):a(X,Q({_as:"VPaginationBtn"},b.value.prev),null)]),I.value.map((S,g)=>s("li",{key:S.key,class:ue(["v-pagination__item",{"v-pagination__item--is-active":S.isActive}]),"data-test":"v-pagination-item"},[l.item?l.item(S):a(X,Q({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),s("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[l.next?l.next(b.value.next):a(X,Q({_as:"VPaginationBtn"},b.value.next),null)]),e.showFirstLastPage&&s("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[l.last?l.last(b.value.last):a(X,Q({_as:"VPaginationBtn"},b.value.last),null)])])]})),{}}}),kn=q({text:String,onClick:Ue(),...Se(),...Ne()},"VLabel"),Ll=ne()({name:"VLabel",props:kn(),setup(e,n){let{slots:l}=n;return se(()=>{var t;return s("label",{class:ue(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:_e(e.style),onClick:e.onClick},[e.text,(t=l.default)==null?void 0:t.call(l)])}),{}}}),Ml=Symbol.for("vuetify:selection-control-group"),Ol=q({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:pe,trueIcon:pe,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Qe},...Se(),...st(),...Ne()},"SelectionControlGroup"),Sn=q({...Ol({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ne()({name:"VSelectionControlGroup",props:Sn(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:l}=n;const t=ye(e,"modelValue"),o=lt(),i=K(()=>e.id||`v-selection-control-group-${o}`),r=K(()=>e.name||i.value),u=new Set;return He(Ml,{modelValue:t,forceUpdate:()=>{u.forEach(f=>f())},onForceUpdate:f=>{u.add(f),el(()=>{u.delete(f)})}}),dt({[e.defaultsTarget]:{color:K(()=>e.color),disabled:K(()=>e.disabled),density:K(()=>e.density),error:K(()=>e.error),inline:K(()=>e.inline),modelValue:t,multiple:K(()=>!!e.multiple||e.multiple==null&&Array.isArray(t.value)),name:r,falseIcon:K(()=>e.falseIcon),trueIcon:K(()=>e.trueIcon),readonly:K(()=>e.readonly),ripple:K(()=>e.ripple),type:K(()=>e.type),valueComparator:K(()=>e.valueComparator)}}),se(()=>{var f;return s("div",{class:ue(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:_e(e.style),role:e.type==="radio"?"radiogroup":void 0},[(f=l.default)==null?void 0:f.call(l)])}),{}}});const Ul=q({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Se(),...Ol()},"VSelectionControl");function Vn(e){const n=Re(Ml,void 0),{densityClasses:l}=ht(e),t=ye(e,"modelValue"),o=O(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=O(()=>e.falseValue!==void 0?e.falseValue:!1),r=O(()=>!!e.multiple||e.multiple==null&&Array.isArray(t.value)),u=O({get(){const p=n?n.modelValue.value:t.value;return r.value?Ie(p).some(w=>e.valueComparator(w,o.value)):e.valueComparator(p,o.value)},set(p){if(e.readonly)return;const w=p?o.value:i.value;let V=w;r.value&&(V=p?[...Ie(t.value),w]:Ie(t.value).filter($=>!e.valueComparator($,o.value))),n?n.modelValue.value=V:t.value=V}}),{textColorClasses:f,textColorStyles:h}=ot(()=>{if(!(e.error||e.disabled))return u.value?e.color:e.baseColor}),{backgroundColorClasses:m,backgroundColorStyles:y}=bt(()=>u.value&&!e.error&&!e.disabled?e.color:e.baseColor),_=O(()=>u.value?e.trueIcon:e.falseIcon);return{group:n,densityClasses:l,trueValue:o,falseValue:i,model:u,textColorClasses:f,textColorStyles:h,backgroundColorClasses:m,backgroundColorStyles:y,icon:_}}const yl=ne()({name:"VSelectionControl",directives:{vRipple:fl},inheritAttrs:!1,props:Ul(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:l,slots:t}=n;const{group:o,densityClasses:i,icon:r,model:u,textColorClasses:f,textColorStyles:h,backgroundColorClasses:m,backgroundColorStyles:y,trueValue:_}=Vn(e),p=lt(),w=be(!1),V=be(!1),$=E(),D=K(()=>e.id||`input-${p}`),C=K(()=>!e.disabled&&!e.readonly);o==null||o.onForceUpdate(()=>{$.value&&($.value.checked=u.value)});function M(x){C.value&&(w.value=!0,jt(x.target,":focus-visible")!==!1&&(V.value=!0))}function I(){w.value=!1,V.value=!1}function b(x){x.stopPropagation()}function T(x){if(!C.value){$.value&&($.value.checked=u.value);return}e.readonly&&o&&Ve(()=>o.forceUpdate()),u.value=x.target.checked}return se(()=>{var B,U;const x=t.label?t.label({label:e.label,props:{for:D.value}}):e.label,[S,g]=gt(l),c=s("input",Q({ref:$,checked:u.value,disabled:!!e.disabled,id:D.value,onBlur:I,onFocus:M,onInput:T,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:_.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},g),null);return s("div",Q({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":w.value,"v-selection-control--focus-visible":V.value,"v-selection-control--inline":e.inline},i.value,e.class]},S,{style:e.style}),[s("div",{class:ue(["v-selection-control__wrapper",f.value]),style:_e(h.value)},[(B=t.default)==null?void 0:B.call(t,{backgroundColorClasses:m,backgroundColorStyles:y}),Te(s("div",{class:ue(["v-selection-control__input"])},[((U=t.input)==null?void 0:U.call(t,{model:u,textColorClasses:f,textColorStyles:h,backgroundColorClasses:m,backgroundColorStyles:y,inputNode:c,icon:r.value,props:{onFocus:M,onBlur:I,id:D.value}}))??s(ae,null,[r.value&&a(le,{key:"icon",icon:r.value},null),c])]),[[fl,e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),x&&a(Ll,{for:D.value,onClick:b},{default:()=>[x]})])}),{isFocused:w,input:$}}}),zl=q({indeterminate:Boolean,indeterminateIcon:{type:pe,default:"$checkboxIndeterminate"},...Ul({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ze=ne()({name:"VCheckboxBtn",props:zl(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:l}=n;const t=ye(e,"indeterminate"),o=ye(e,"modelValue");function i(f){t.value&&(t.value=!1)}const r=K(()=>t.value?e.indeterminateIcon:e.falseIcon),u=K(()=>t.value?e.indeterminateIcon:e.trueIcon);return se(()=>{const f=yt(yl.filterProps(e),["modelValue"]);return a(yl,Q(f,{modelValue:o.value,"onUpdate:modelValue":[h=>o.value=h,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:r.value,trueIcon:u.value,"aria-checked":t.value?"mixed":void 0}),l)}),{}}});function Nl(e){const{t:n}=Fe();function l(t){let{name:o,color:i,...r}=t;const u={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],f=e[`onClick:${o}`];function h(y){y.key!=="Enter"&&y.key!==" "||(y.preventDefault(),y.stopPropagation(),Rt(f,new PointerEvent("click",y)))}const m=f&&u?n(`$vuetify.input.${u}`,e.label??""):void 0;return a(le,Q({icon:e[`${o}Icon`],"aria-label":m,onClick:f,onKeydown:h,color:i},r),null)}return{InputIcon:l}}const wn=q({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Se(),...Mt({transition:{component:Pl,leaveAbsolute:!0,group:!0}})},"VMessages"),Cn=ne()({name:"VMessages",props:wn(),setup(e,n){let{slots:l}=n;const t=O(()=>Ie(e.messages)),{textColorClasses:o,textColorStyles:i}=ot(()=>e.color);return se(()=>a(Lt,{transition:e.transition,tag:"div",class:ue(["v-messages",o.value,e.class]),style:_e([i.value,e.style])},{default:()=>[e.active&&t.value.map((r,u)=>s("div",{class:"v-messages__message",key:`${u}-${t.value}`},[l.message?l.message({message:r}):r]))]})),{}}}),Hl=q({focused:Boolean,"onUpdate:focused":Ue()},"focus");function xt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kl();const l=ye(e,"focused"),t=K(()=>({[`${n}--focused`]:l.value}));function o(){l.value=!0}function i(){l.value=!1}return{focusClasses:t,isFocused:l,focus:o,blur:i}}const Gl=Symbol.for("vuetify:form"),In=q({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Pn(e){const n=ye(e,"modelValue"),l=K(()=>e.disabled),t=K(()=>e.readonly),o=be(!1),i=E([]),r=E([]);async function u(){const m=[];let y=!0;r.value=[],o.value=!0;for(const _ of i.value){const p=await _.validate();if(p.length>0&&(y=!1,m.push({id:_.id,errorMessages:p})),!y&&e.fastFail)break}return r.value=m,o.value=!1,{valid:y,errors:r.value}}function f(){i.value.forEach(m=>m.reset())}function h(){i.value.forEach(m=>m.resetValidation())}return ve(i,()=>{let m=0,y=0;const _=[];for(const p of i.value)p.isValid===!1?(y++,_.push({id:p.id,errorMessages:p.errorMessages})):p.isValid===!0&&m++;r.value=_,n.value=y>0?!1:m===i.value.length?!0:null},{deep:!0,flush:"post"}),He(Gl,{register:m=>{let{id:y,vm:_,validate:p,reset:w,resetValidation:V}=m;i.value.some($=>$.id===y),i.value.push({id:y,validate:p,reset:w,resetValidation:V,vm:ka(_),isValid:null,errorMessages:[]})},unregister:m=>{i.value=i.value.filter(y=>y.id!==m)},update:(m,y,_)=>{const p=i.value.find(w=>w.id===m);p&&(p.isValid=y,p.errorMessages=_)},isDisabled:l,isReadonly:t,isValidating:o,isValid:n,items:i,validateOn:K(()=>e.validateOn)}),{errors:r,isDisabled:l,isReadonly:t,isValidating:o,isValid:n,items:i,validate:u,reset:f,resetValidation:h}}function jl(e){const n=Re(Gl,null);return{...n,isReadonly:O(()=>!!((e==null?void 0:e.readonly)??(n==null?void 0:n.isReadonly.value))),isDisabled:O(()=>!!((e==null?void 0:e.disabled)??(n==null?void 0:n.isDisabled.value)))}}const $n=Symbol.for("vuetify:rules");function Tn(e){const n=Re($n,null);return n?n(e):K(e)}const Bn=q({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Hl()},"validation");function Dn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kl(),l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lt();const t=ye(e,"modelValue"),o=O(()=>e.validationValue===void 0?t.value:e.validationValue),i=jl(e),r=Tn(()=>e.rules),u=E([]),f=be(!0),h=O(()=>!!(Ie(t.value===""?null:t.value).length||Ie(o.value===""?null:o.value).length)),m=O(()=>{var I;return(I=e.errorMessages)!=null&&I.length?Ie(e.errorMessages).concat(u.value).slice(0,Math.max(0,Number(e.maxErrors))):u.value}),y=O(()=>{var T;let I=(e.validateOn??((T=i.validateOn)==null?void 0:T.value))||"input";I==="lazy"&&(I="input lazy"),I==="eager"&&(I="input eager");const b=new Set((I==null?void 0:I.split(" "))??[]);return{input:b.has("input"),blur:b.has("blur")||b.has("input")||b.has("invalid-input"),invalidInput:b.has("invalid-input"),lazy:b.has("lazy"),eager:b.has("eager")}}),_=O(()=>{var I;return e.error||(I=e.errorMessages)!=null&&I.length?!1:e.rules.length?f.value?u.value.length||y.value.lazy?null:!0:!u.value.length:!0}),p=be(!1),w=O(()=>({[`${n}--error`]:_.value===!1,[`${n}--dirty`]:h.value,[`${n}--disabled`]:i.isDisabled.value,[`${n}--readonly`]:i.isReadonly.value})),V=Et("validation"),$=O(()=>e.name??j(l));Sa(()=>{var I;(I=i.register)==null||I.call(i,{id:$.value,vm:V,validate:M,reset:D,resetValidation:C})}),Sl(()=>{var I;(I=i.unregister)==null||I.call(i,$.value)}),We(async()=>{var I;y.value.lazy||await M(!y.value.eager),(I=i.update)==null||I.call(i,$.value,_.value,m.value)}),Wt(()=>y.value.input||y.value.invalidInput&&_.value===!1,()=>{ve(o,()=>{if(o.value!=null)M();else if(e.focused){const I=ve(()=>e.focused,b=>{b||M(),I()})}})}),Wt(()=>y.value.blur,()=>{ve(()=>e.focused,I=>{I||M()})}),ve([_,m],()=>{var I;(I=i.update)==null||I.call(i,$.value,_.value,m.value)});async function D(){t.value=null,await Ve(),await C()}async function C(){f.value=!0,y.value.lazy?u.value=[]:await M(!y.value.eager)}async function M(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const b=[];p.value=!0;for(const T of r.value){if(b.length>=Number(e.maxErrors??1))break;const S=await(typeof T=="function"?T:()=>T)(o.value);if(S!==!0){if(S!==!1&&typeof S!="string"){console.warn(`${S} is not a valid value. Rule functions must return boolean true or a string.`);continue}b.push(S||"")}}return u.value=b,p.value=!1,f.value=I,u.value}return{errorMessages:m,isDirty:h,isDisabled:i.isDisabled,isReadonly:i.isReadonly,isPristine:f,isValid:_,isValidating:p,reset:D,resetValidation:C,validate:M,validationClasses:w}}const _t=q({id:String,appendIcon:pe,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:pe,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Ue(),"onClick:append":Ue(),...Se(),...st(),...Va(nl(),["maxWidth","minWidth","width"]),...Ne(),...Bn()},"VInput"),je=ne()({name:"VInput",props:{..._t()},emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:l,slots:t,emit:o}=n;const{densityClasses:i}=ht(e),{dimensionStyles:r}=al(e),{themeClasses:u}=tt(e),{rtlClasses:f}=Ft(),{InputIcon:h}=Nl(e),m=lt(),y=O(()=>e.id||`input-${m}`),_=O(()=>`${y.value}-messages`),{errorMessages:p,isDirty:w,isDisabled:V,isReadonly:$,isPristine:D,isValid:C,isValidating:M,reset:I,resetValidation:b,validate:T,validationClasses:x}=Dn(e,"v-input",y),S=O(()=>({id:y,messagesId:_,isDirty:w,isDisabled:V,isReadonly:$,isPristine:D,isValid:C,isValidating:M,reset:I,resetValidation:b,validate:T})),g=K(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),c=K(()=>{if(e.iconColor)return e.iconColor===!0?g.value:e.iconColor}),B=O(()=>{var U;return(U=e.errorMessages)!=null&&U.length||!D.value&&p.value.length?p.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return se(()=>{var d,A,Y,Z;const U=!!(t.prepend||e.prependIcon),z=!!(t.append||e.appendIcon),L=B.value.length>0,k=!e.hideDetails||e.hideDetails==="auto"&&(L||!!t.details);return s("div",{class:ue(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},i.value,u.value,f.value,x.value,e.class]),style:_e([r.value,e.style])},[U&&s("div",{key:"prepend",class:"v-input__prepend"},[(d=t.prepend)==null?void 0:d.call(t,S.value),e.prependIcon&&a(h,{key:"prepend-icon",name:"prepend",color:c.value},null)]),t.default&&s("div",{class:"v-input__control"},[(A=t.default)==null?void 0:A.call(t,S.value)]),z&&s("div",{key:"append",class:"v-input__append"},[e.appendIcon&&a(h,{key:"append-icon",name:"append",color:c.value},null),(Y=t.append)==null?void 0:Y.call(t,S.value)]),k&&s("div",{id:_.value,class:"v-input__details",role:"alert","aria-live":"polite"},[a(Cn,{active:L,messages:B.value},{message:t.message}),(Z=t.details)==null?void 0:Z.call(t,S.value)])])}),{reset:I,resetValidation:b,validate:T,isValid:C,errorMessages:p}}}),An=q({..._t(),...yt(zl(),["inline"])},"VCheckbox"),Fn=ne()({name:"VCheckbox",inheritAttrs:!1,props:An(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,n){let{attrs:l,slots:t}=n;const o=ye(e,"modelValue"),{isFocused:i,focus:r,blur:u}=xt(e),f=lt();return se(()=>{const[h,m]=gt(l),y=je.filterProps(e),_=Ze.filterProps(e);return a(je,Q({class:["v-checkbox",e.class]},h,y,{modelValue:o.value,"onUpdate:modelValue":p=>o.value=p,id:e.id||`checkbox-${f}`,focused:i.value,style:e.style}),{...t,default:p=>{let{id:w,messagesId:V,isDisabled:$,isReadonly:D,isValid:C}=p;return a(Ze,Q(_,{id:w.value,"aria-describedby":V.value,disabled:$.value,readonly:D.value},m,{error:C.value===!1,modelValue:o.value,"onUpdate:modelValue":M=>o.value=M,onFocus:r,onBlur:u}),t)}})}),{}}}),Rn=q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Se(),...Mt({transition:{component:Pl}})},"VCounter"),ol=ne()({name:"VCounter",functional:!0,props:Rn(),setup(e,n){let{slots:l}=n;const t=K(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return se(()=>a(Lt,{transition:e.transition},{default:()=>[Te(s("div",{class:ue(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:_e(e.style)},[l.default?l.default({counter:t.value,max:e.max,value:e.value}):t.value]),[[Ge,e.active]])]})),{}}}),En=q({floating:Boolean,...Se()},"VFieldLabel"),It=ne()({name:"VFieldLabel",props:En(),setup(e,n){let{slots:l}=n;return se(()=>a(Ll,{class:ue(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:_e(e.style),"aria-hidden":e.floating||void 0},l)),{}}}),Ln=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ut=q({appendInnerIcon:pe,bgColor:String,clearable:Boolean,clearIcon:{type:pe,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:pe,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ln.includes(e)},"onClick:clear":Ue(),"onClick:appendInner":Ue(),"onClick:prependInner":Ue(),...Se(),...Al(),...Ot(),...Ne()},"VField"),et=ne()({name:"VField",inheritAttrs:!1,props:{id:String,...Hl(),...Ut()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:l,emit:t,slots:o}=n;const{themeClasses:i}=tt(e),{loaderClasses:r}=Bl(e),{focusClasses:u,isFocused:f,focus:h,blur:m}=xt(e),{InputIcon:y}=Nl(e),{roundedClasses:_}=ll(e),{rtlClasses:p}=Ft(),w=K(()=>e.dirty||e.active),V=K(()=>!!(e.label||o.label)),$=K(()=>!e.singleLine&&V.value),D=lt(),C=O(()=>e.id||`input-${D}`),M=K(()=>`${C.value}-messages`),I=E(),b=E(),T=E(),x=O(()=>["plain","underlined"].includes(e.variant)),S=O(()=>e.error||e.disabled?void 0:w.value&&f.value?e.color:e.baseColor),g=O(()=>{if(!(!e.iconColor||e.glow&&!f.value))return e.iconColor===!0?S.value:e.iconColor}),{backgroundColorClasses:c,backgroundColorStyles:B}=bt(()=>e.bgColor),{textColorClasses:U,textColorStyles:z}=ot(S);ve(w,d=>{if($.value){const A=I.value.$el,Y=b.value.$el;requestAnimationFrame(()=>{const Z=wa(A),F=Y.getBoundingClientRect(),W=F.x-Z.x,J=F.y-Z.y-(Z.height/2-F.height/2),ee=F.width/.75,ce=Math.abs(ee-Z.width)>1?{maxWidth:ke(ee)}:void 0,H=getComputedStyle(A),P=getComputedStyle(Y),N=parseFloat(H.transitionDuration)*1e3||150,oe=parseFloat(P.getPropertyValue("--v-field-label-scale")),he=P.getPropertyValue("color");A.style.visibility="visible",Y.style.visibility="hidden",Vl(A,{transform:`translate(${W}px, ${J}px) scale(${oe})`,color:he,...ce},{duration:N,easing:wl,direction:d?"normal":"reverse"}).finished.then(()=>{A.style.removeProperty("visibility"),Y.style.removeProperty("visibility")})})}},{flush:"post"});const L=O(()=>({isActive:w,isFocused:f,controlRef:T,blur:m,focus:h}));function k(d){d.target!==document.activeElement&&d.preventDefault()}return se(()=>{var W,J,ee;const d=e.variant==="outlined",A=!!(o["prepend-inner"]||e.prependInnerIcon),Y=!!(e.clearable||o.clear)&&!e.disabled,Z=!!(o["append-inner"]||e.appendInnerIcon||Y),F=()=>o.label?o.label({...L.value,label:e.label,props:{for:C.value}}):e.label;return s("div",Q({class:["v-field",{"v-field--active":w.value,"v-field--appended":Z,"v-field--center-affix":e.centerAffix??!x.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":A,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!F(),[`v-field--variant-${e.variant}`]:!0},i.value,c.value,u.value,r.value,_.value,p.value,e.class],style:[B.value,e.style],onClick:k},l),[s("div",{class:"v-field__overlay"},null),a(Dl,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:o.loader}),A&&s("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(y,{key:"prepend-icon",name:"prependInner",color:g.value},null),(W=o["prepend-inner"])==null?void 0:W.call(o,L.value)]),s("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&$.value&&a(It,{key:"floating-label",ref:b,class:ue([U.value]),floating:!0,for:C.value,style:_e(z.value)},{default:()=>[F()]}),V.value&&a(It,{key:"label",ref:I,for:C.value},{default:()=>[F()]}),((J=o.default)==null?void 0:J.call(o,{...L.value,props:{id:C.value,class:"v-field__input","aria-describedby":M.value},focus:h,blur:m}))??s("div",{id:C.value,class:"v-field__input","aria-describedby":M.value},null)]),Y&&a(Ga,{key:"clear"},{default:()=>[Te(s("div",{class:"v-field__clearable",onMousedown:ce=>{ce.preventDefault(),ce.stopPropagation()}},[a(Tt,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[o.clear?o.clear({...L.value,props:{onFocus:h,onBlur:m,onClick:e["onClick:clear"],tabindex:-1}}):a(y,{name:"clear",onFocus:h,onBlur:m,tabindex:-1},null)]})]),[[Ge,e.dirty]])]}),Z&&s("div",{key:"append",class:"v-field__append-inner"},[(ee=o["append-inner"])==null?void 0:ee.call(o,L.value),e.appendInnerIcon&&a(y,{key:"append-icon",name:"appendInner",color:g.value},null)]),s("div",{class:ue(["v-field__outline",U.value]),style:_e(z.value)},[d&&s(ae,null,[s("div",{class:"v-field__outline__start"},null),$.value&&s("div",{class:"v-field__outline__notch"},[a(It,{ref:b,floating:!0,for:C.value},{default:()=>[F()]})]),s("div",{class:"v-field__outline__end"},null)]),x.value&&$.value&&a(It,{ref:b,floating:!0,for:C.value},{default:()=>[F()]})])])}),{controlRef:T,fieldIconColor:g}}});function Wl(e){function n(l,t){var o,i;!e.autofocus||!l||(i=(o=t[0].target)==null?void 0:o.focus)==null||i.call(o)}return{onIntersect:n}}const Mn=["color","file","time","date","datetime-local","week","month"],Kl=q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,..._t(),...Ut()},"VTextField"),xe=ne()({name:"VTextField",directives:{vIntersect:$t},inheritAttrs:!1,props:Kl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:l,emit:t,slots:o}=n;const i=ye(e,"modelValue"),{isFocused:r,focus:u,blur:f}=xt(e),{onIntersect:h}=Wl(e),m=O(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:(i.value??"").toString().length),y=O(()=>{if(l.maxlength)return l.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),_=O(()=>["plain","underlined"].includes(e.variant)),p=E(),w=E(),V=E(),$=O(()=>Mn.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function D(){r.value||u(),Ve(()=>{V.value!==document.activeElement&&Ve(()=>{var T;return(T=V.value)==null?void 0:T.focus()})})}function C(T){t("mousedown:control",T),T.target!==V.value&&(D(),T.preventDefault())}function M(T){t("click:control",T)}function I(T,x){T.stopPropagation(),D(),Ve(()=>{i.value=null,x(),Rt(e["onClick:clear"],T)})}function b(T){var S;const x=T.target;if(i.value=x.value,(S=e.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(e.type)){const g=[x.selectionStart,x.selectionEnd];Ve(()=>{x.selectionStart=g[0],x.selectionEnd=g[1]})}}return se(()=>{const T=!!(o.counter||e.counter!==!1&&e.counter!=null),x=!!(T||o.details),[S,g]=gt(l),{modelValue:c,...B}=je.filterProps(e),U=et.filterProps(e);return a(je,Q({ref:p,modelValue:i.value,"onUpdate:modelValue":z=>i.value=z,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":_.value},e.class],style:e.style},S,B,{centerAffix:!_.value,focused:r.value}),{...o,default:z=>{let{id:L,isDisabled:k,isDirty:d,isReadonly:A,isValid:Y,reset:Z}=z;return a(et,Q({ref:w,onMousedown:C,onClick:M,"onClick:clear":F=>I(F,Z),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},U,{id:L.value,active:$.value||d.value,dirty:d.value||e.dirty,disabled:k.value,focused:r.value,error:Y.value===!1}),{...o,default:F=>{let{props:{class:W,...J}}=F;const ee=Te(s("input",Q({ref:V,value:i.value,onInput:b,autofocus:e.autofocus,readonly:A.value,disabled:k.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:D,onBlur:f},J,g),null),[[$t,{handler:h},null,{once:!0}]]);return s(ae,null,[e.prefix&&s("span",{class:"v-text-field__prefix"},[s("span",{class:"v-text-field__prefix__text"},[e.prefix])]),o.default?s("div",{class:ue(W),"data-no-activator":""},[o.default(),ee]):Ca(ee,{class:W}),e.suffix&&s("span",{class:"v-text-field__suffix"},[s("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:x?z=>{var L;return s(ae,null,[(L=o.details)==null?void 0:L.call(o,z),T&&s(ae,null,[s("span",null,null),a(ol,{active:e.persistentCounter||r.value,value:m.value,max:y.value,disabled:e.disabled},o.counter)])])}:void 0})}),it({},p,w,V)}}),On=q({renderless:Boolean,...Se()},"VVirtualScrollItem"),Un=ne()({name:"VVirtualScrollItem",inheritAttrs:!1,props:On(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:l,emit:t,slots:o}=n;const{resizeRef:i,contentRect:r}=Zt(void 0,"border");ve(()=>{var u;return(u=r.value)==null?void 0:u.height},u=>{u!=null&&t("update:height",u)}),se(()=>{var u,f;return e.renderless?s(ae,null,[(u=o.default)==null?void 0:u.call(o,{itemRef:i})]):s("div",Q({ref:i,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(f=o.default)==null?void 0:f.call(o)])})}}),zn=-1,Nn=1,Ht=100,Hn=q({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Gn(e,n){const l=mt(),t=be(0);ct(()=>{t.value=parseFloat(e.itemHeight||0)});const o=be(0),i=be(Math.ceil((parseInt(e.height)||l.height.value)/(t.value||16))||1),r=be(0),u=be(0),f=E(),h=E();let m=0;const{resizeRef:y,contentRect:_}=Zt();ct(()=>{y.value=f.value});const p=O(()=>{var F;return f.value===document.documentElement?l.height.value:((F=_.value)==null?void 0:F.height)||parseInt(e.height)||0}),w=O(()=>!!(f.value&&h.value&&p.value&&t.value));let V=Array.from({length:n.value.length}),$=Array.from({length:n.value.length});const D=be(0);let C=-1;function M(F){return V[F]||t.value}const I=Ia(()=>{const F=performance.now();$[0]=0;const W=n.value.length;for(let J=1;J<=W-1;J++)$[J]=($[J-1]||0)+M(J-1);D.value=Math.max(D.value,performance.now()-F)},D),b=ve(w,F=>{F&&(b(),m=h.value.offsetTop,I.immediate(),d(),~C&&Ve(()=>{Cl&&window.requestAnimationFrame(()=>{Y(C),C=-1})}))});el(()=>{I.clear()});function T(F,W){const J=V[F],ee=t.value;t.value=ee?Math.min(t.value,W):W,(J!==W||ee!==t.value)&&(V[F]=W,I())}function x(F){return F=Xe(F,0,n.value.length-1),$[F]||0}function S(F){return jn($,F)}let g=0,c=0,B=0;ve(p,(F,W)=>{W&&(d(),F<W&&requestAnimationFrame(()=>{c=0,d()}))});let U=-1;function z(){if(!f.value||!h.value)return;const F=f.value.scrollTop,W=performance.now();W-B>500?(c=Math.sign(F-g),m=h.value.offsetTop):c=F-g,g=F,B=W,window.clearTimeout(U),U=window.setTimeout(L,500),d()}function L(){!f.value||!h.value||(c=0,B=0,window.clearTimeout(U),d())}let k=-1;function d(){cancelAnimationFrame(k),k=requestAnimationFrame(A)}function A(){if(!f.value||!p.value||!t.value)return;const F=g-m,W=Math.sign(c),J=Math.max(0,F-Ht),ee=Xe(S(J),0,n.value.length),ce=F+p.value+Ht,H=Xe(S(ce)+1,ee+1,n.value.length);if((W!==zn||ee<o.value)&&(W!==Nn||H>i.value)){const P=x(o.value)-x(ee),N=x(H)-x(i.value);Math.max(P,N)>Ht?(o.value=ee,i.value=H):(ee<=0&&(o.value=ee),H>=n.value.length&&(i.value=H))}r.value=x(o.value),u.value=x(n.value.length)-x(i.value)}function Y(F){const W=x(F);!f.value||F&&!W?C=F:f.value.scrollTop=W}const Z=O(()=>n.value.slice(o.value,i.value).map((F,W)=>{const J=W+o.value;return{raw:F,index:J,key:qe(F,e.itemKey,J)}}));return ve(n,()=>{V=Array.from({length:n.value.length}),$=Array.from({length:n.value.length}),I.immediate(),d()},{deep:1}),{calculateVisibleItems:d,containerRef:f,markerRef:h,computedItems:Z,paddingTop:r,paddingBottom:u,scrollToIndex:Y,handleScroll:z,handleScrollend:L,handleItemResize:T}}function jn(e,n){let l=e.length-1,t=0,o=0,i=null,r=-1;if(e[l]<n)return l;for(;t<=l;)if(o=t+l>>1,i=e[o],i>n)l=o-1;else if(i<n)r=o,t=o+1;else return i===n?o:t;return r}const Wn=q({items:{type:Array,default:()=>[]},renderless:Boolean,...Hn(),...Se(),...nl()},"VVirtualScroll"),Kn=ne()({name:"VVirtualScroll",props:Wn(),setup(e,n){let{slots:l}=n;const t=Et("VVirtualScroll"),{dimensionStyles:o}=al(e),{calculateVisibleItems:i,containerRef:r,markerRef:u,handleScroll:f,handleScrollend:h,handleItemResize:m,scrollToIndex:y,paddingTop:_,paddingBottom:p,computedItems:w}=Gn(e,K(()=>e.items));return Wt(()=>e.renderless,()=>{function V(){var C,M;const D=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";r.value===document.documentElement?(document[D]("scroll",f,{passive:!0}),document[D]("scrollend",h)):((C=r.value)==null||C[D]("scroll",f,{passive:!0}),(M=r.value)==null||M[D]("scrollend",h))}We(()=>{r.value=Pa(t.vnode.el,!0),V(!0)}),el(V)}),se(()=>{const V=w.value.map($=>a(Un,{key:$.key,renderless:e.renderless,"onUpdate:height":D=>m($.index,D)},{default:D=>{var C;return(C=l.default)==null?void 0:C.call(l,{item:$.raw,index:$.index,...D})}}));return e.renderless?s(ae,null,[s("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:ke(_.value)}},null),V,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ke(p.value)}},null)]):s("div",{ref:r,class:ue(["v-virtual-scroll",e.class]),onScrollPassive:f,onScrollend:h,style:_e([o.value,e.style])},[s("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:ke(_.value),paddingBottom:ke(p.value)}},[V])])}),{calculateVisibleItems:i,scrollToIndex:y}}});function Xn(e,n){const l=be(!1);let t;function o(u){cancelAnimationFrame(t),l.value=!0,t=requestAnimationFrame(()=>{t=requestAnimationFrame(()=>{l.value=!1})})}async function i(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(l.value){const f=ve(l,()=>{f(),u()})}else u()})}async function r(u){var m,y;if(u.key==="Tab"&&((m=n.value)==null||m.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const f=(y=e.value)==null?void 0:y.$el;if(!f)return;(u.key==="Home"||u.key==="End")&&f.scrollTo({top:u.key==="Home"?0:f.scrollHeight,behavior:"smooth"}),await i();const h=f.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const _=f.getBoundingClientRect().top;for(const p of h)if(p.getBoundingClientRect().top>=_){p.focus();break}}else{const _=f.getBoundingClientRect().bottom;for(const p of[...h].reverse())if(p.getBoundingClientRect().bottom<=_){p.focus();break}}}return{onScrollPassive:o,onKeydown:r}}const Yn=q({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:pe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Wa({itemChildren:!1})},"Select"),qn=q({...Yn(),...yt(Kl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Mt({transition:{component:gn}})},"VSelect"),Ye=ne()({name:"VSelect",props:qn(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:l}=n;const{t}=Fe(),o=E(),i=E(),r=E(),{items:u,transformIn:f,transformOut:h}=ja(e),m=ye(e,"modelValue",[],F=>f(F===null?[null]:Ie(F)),F=>{const W=h(F);return e.multiple?W:W[0]??null}),y=O(()=>typeof e.counterValue=="function"?e.counterValue(m.value):typeof e.counterValue=="number"?e.counterValue:m.value.length),_=jl(e),p=O(()=>m.value.map(F=>F.value)),w=be(!1);let V="",$=-1,D;const C=O(()=>e.hideSelected?u.value.filter(F=>!m.value.some(W=>(e.valueComparator||Qe)(W,F))):u.value),M=O(()=>e.hideNoData&&!C.value.length||_.isReadonly.value||_.isDisabled.value),I=ye(e,"menu"),b=O({get:()=>I.value,set:F=>{var W;I.value&&!F&&((W=i.value)!=null&&W.ΨopenChildren.size)||F&&M.value||(I.value=F)}}),T=K(()=>b.value?e.closeText:e.openText),x=O(()=>{var F;return{...e.menuProps,activatorProps:{...((F=e.menuProps)==null?void 0:F.activatorProps)||{},"aria-haspopup":"listbox"}}}),S=E(),g=Xn(S,o);function c(F){e.openOnClear&&(b.value=!0)}function B(){M.value||(b.value=!b.value)}function U(F){rl(F)&&z(F)}function z(F){var he,Be,fe;if(!F.key||_.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(F.key)&&F.preventDefault(),["Enter","ArrowDown"," "].includes(F.key)&&(b.value=!0),["Escape","Tab"].includes(F.key)&&(b.value=!1),F.key==="Home"?(he=S.value)==null||he.focus("first"):F.key==="End"&&((Be=S.value)==null||Be.focus("last"));const W=1e3;if(!rl(F))return;const J=performance.now();J-D>W&&(V="",$=-1),V+=F.key.toLowerCase(),D=J;const ee=C.value;function ce(){let ie=H();return ie||V.at(-1)===V.at(-2)&&(V=V.slice(0,-1),ie=H(),ie)||($=-1,ie=H(),ie)?ie:(V=F.key.toLowerCase(),H())}function H(){for(let ie=$+1;ie<ee.length;ie++){const Ee=ee[ie];if(Ee.title.toLowerCase().startsWith(V))return[Ee,ie]}}const P=ce();if(!P)return;const[N,oe]=P;$=oe,(fe=S.value)==null||fe.focus(oe),e.multiple||(m.value=[N])}function L(F){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!F.props.disabled)if(e.multiple){const J=m.value.findIndex(ce=>(e.valueComparator||Qe)(ce.value,F.value)),ee=W??!~J;if(~J){const ce=ee?[...m.value,F]:[...m.value];ce.splice(J,1),m.value=ce}else ee&&(m.value=[...m.value,F])}else{const J=W!==!1;m.value=J?[F]:[],Ve(()=>{b.value=!1})}}function k(F){var W;(W=S.value)!=null&&W.$el.contains(F.relatedTarget)||(b.value=!1)}function d(){var F;e.eager&&((F=r.value)==null||F.calculateVisibleItems())}function A(){var F;w.value&&((F=o.value)==null||F.focus())}function Y(F){w.value=!0}function Z(F){if(F==null)m.value=[];else if(jt(o.value,":autofill")||jt(o.value,":-webkit-autofill")){const W=u.value.find(J=>J.title===F);W&&L(W)}else o.value&&(o.value.value="")}return ve(b,()=>{if(!e.hideSelected&&b.value&&m.value.length){const F=C.value.findIndex(W=>m.value.some(J=>(e.valueComparator||Qe)(J.value,W.value)));Cl&&window.requestAnimationFrame(()=>{var W;F>=0&&((W=r.value)==null||W.scrollToIndex(F))})}}),ve(()=>e.items,(F,W)=>{b.value||w.value&&!W.length&&F.length&&(b.value=!0)}),se(()=>{const F=!!(e.chips||l.chip),W=!!(!e.hideNoData||C.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),J=m.value.length>0,ee=xe.filterProps(e),ce=J||!w.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(xe,Q({ref:o},ee,{modelValue:m.value.map(H=>H.props.value).join(", "),"onUpdate:modelValue":Z,focused:w.value,"onUpdate:focused":H=>w.value=H,validationValue:m.externalValue,counterValue:y.value,dirty:J,class:["v-select",{"v-select--active-menu":b.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":m.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:ce,"onClick:clear":c,"onMousedown:control":B,onBlur:k,onKeydown:z,"aria-label":t(T.value),title:t(T.value)}),{...l,default:()=>s(ae,null,[a(mn,Q({ref:i,modelValue:b.value,"onUpdate:modelValue":H=>b.value=H,activator:"parent",contentClass:"v-select__content",disabled:M.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:d,onAfterLeave:A},x.value),{default:()=>[W&&a(Kt,Q({ref:S,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:H=>H.preventDefault(),onKeydown:U,onFocusin:Y,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},g,e.listProps),{default:()=>{var H,P,N;return[(H=l["prepend-item"])==null?void 0:H.call(l),!C.value.length&&!e.hideNoData&&(((P=l["no-data"])==null?void 0:P.call(l))??a(Je,{key:"no-data",title:t(e.noDataText)},null)),a(Kn,{ref:r,renderless:!0,items:C.value,itemKey:"value"},{default:oe=>{var rt;let{item:he,index:Be,itemRef:fe}=oe;const ie=$a(he.props),Ee=Q(he.props,{ref:fe,key:he.value,onClick:()=>L(he,null)});return((rt=l.item)==null?void 0:rt.call(l,{item:he,index:Be,props:Ee}))??a(Je,Q(Ee,{role:"option"}),{prepend:kt=>{let{isSelected:St}=kt;return s(ae,null,[e.multiple&&!e.hideSelected?a(Ze,{key:he.value,modelValue:St,ripple:!1,tabindex:"-1"},null):void 0,ie.prependAvatar&&a($l,{image:ie.prependAvatar},null),ie.prependIcon&&a(le,{icon:ie.prependIcon},null)])}})}}),(N=l["append-item"])==null?void 0:N.call(l)]}})]}),m.value.map((H,P)=>{function N(fe){fe.stopPropagation(),fe.preventDefault(),L(H,!1)}const oe={"onClick:close":N,onKeydown(fe){fe.key!=="Enter"&&fe.key!==" "||(fe.preventDefault(),fe.stopPropagation(),N(fe))},onMousedown(fe){fe.preventDefault(),fe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},he=F?!!l.chip:!!l.selection,Be=he?Ta(F?l.chip({item:H,index:P,props:oe}):l.selection({item:H,index:P})):void 0;if(!(he&&!Be))return s("div",{key:H.value,class:"v-select__selection"},[F?l.chip?a(Tt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:H.title}}},{default:()=>[Be]}):a(De,Q({key:"chip",closable:e.closableChips,size:"small",text:H.title,disabled:H.props.disabled},oe),null):Be??s("span",{class:"v-select__selection-text"},[H.title,e.multiple&&P<m.value.length-1&&s("span",{class:"v-select__selection-comma"},[R(",")])])])})]),"append-inner":function(){var oe,he;for(var H=arguments.length,P=new Array(H),N=0;N<H;N++)P[N]=arguments[N];return s(ae,null,[(oe=l["append-inner"])==null?void 0:oe.call(l,...P),e.menuIcon?a(le,{class:"v-select__menu-icon",color:(he=o.value)==null?void 0:he.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),it({isFocused:w,menu:b,select:L},o)}}),Jn=q({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Xl=Symbol.for("vuetify:data-table-pagination");function Qn(e){const n=ye(e,"page",void 0,t=>Number(t??1)),l=ye(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:n,itemsPerPage:l}}function Zn(e){const{page:n,itemsPerPage:l,itemsLength:t}=e,o=O(()=>l.value===-1?0:l.value*(n.value-1)),i=O(()=>l.value===-1?t.value:Math.min(t.value,o.value+l.value)),r=O(()=>l.value===-1||t.value===0?1:Math.ceil(t.value/l.value));ve([n,r],()=>{n.value>r.value&&(n.value=r.value)});function u(_){l.value=_,n.value=1}function f(){n.value=Xe(n.value+1,1,r.value)}function h(){n.value=Xe(n.value-1,1,r.value)}function m(_){n.value=Xe(_,1,r.value)}const y={page:n,itemsPerPage:l,startIndex:o,stopIndex:i,pageCount:r,itemsLength:t,nextPage:f,prevPage:h,setPage:m,setItemsPerPage:u};return He(Xl,y),y}function eo(){const e=Re(Xl);if(!e)throw new Error("Missing pagination!");return e}function to(e){const n=Et("usePaginatedItems"),{items:l,startIndex:t,stopIndex:o,itemsPerPage:i}=e,r=O(()=>i.value<=0?l.value:l.value.slice(t.value,o.value));return ve(r,u=>{n.emit("update:currentItems",u)},{immediate:!0}),{paginatedItems:r}}const Yl=q({prevIcon:{type:pe,default:"$prev"},nextIcon:{type:pe,default:"$next"},firstIcon:{type:pe,default:"$first"},lastIcon:{type:pe,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),bl=ne()({name:"VDataTableFooter",props:Yl(),setup(e,n){let{slots:l}=n;const{t}=Fe(),{page:o,pageCount:i,startIndex:r,stopIndex:u,itemsLength:f,itemsPerPage:h,setItemsPerPage:m}=eo(),y=O(()=>e.itemsPerPageOptions.map(_=>typeof _=="number"?{value:_,title:_===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(_)}:{..._,title:isNaN(Number(_.title))?t(_.title):_.title}));return se(()=>{var p;const _=gl.filterProps(e);return s("div",{class:"v-data-table-footer"},[(p=l.prepend)==null?void 0:p.call(l),s("div",{class:"v-data-table-footer__items-per-page"},[s("span",{"aria-label":t(e.itemsPerPageText)},[t(e.itemsPerPageText)]),a(Ye,{items:y.value,modelValue:h.value,"onUpdate:modelValue":w=>m(Number(w)),density:"compact",variant:"outlined","hide-details":!0},null)]),s("div",{class:"v-data-table-footer__info"},[s("div",null,[t(e.pageText,f.value?r.value+1:0,u.value,f.value)])]),s("div",{class:"v-data-table-footer__pagination"},[a(gl,Q({modelValue:o.value,"onUpdate:modelValue":w=>o.value=w,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:i.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},_),null)])])}),{}}}),Bt=Ba({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,n)=>{let{slots:l}=n;const t=e.tag??"td";return a(t,{class:ue(["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:ke(e.height),width:ke(e.width),maxWidth:ke(e.maxWidth),left:ke(e.fixedOffset||null)}},{default:()=>{var o;return[(o=l.default)==null?void 0:o.call(l)]}})}),lo=q({headers:Array},"DataTable-header"),ql=Symbol.for("vuetify:data-table-headers"),Jl={title:"",sortable:!1},ao={...Jl,width:48};function no(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,t)=>{let o=!1;for(let i=0;i<n.length;i++)if(n[i].priority>t){n.splice(i,0,{element:l,priority:t}),o=!0;break}o||n.push({element:l,priority:t})},size:()=>n.length,count:()=>{let l=0;if(!n.length)return 0;const t=Math.floor(n[0].priority);for(let o=0;o<n.length;o++)Math.floor(n[o].priority)===t&&(l+=1);return l},dequeue:()=>n.shift()}}function Xt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)n.push(e);else for(const l of e.children)Xt(l,n);return n}function Ql(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&n.add(l.key),l.children&&Ql(l.children,n);return n}function oo(e){if(e.key){if(e.key==="data-table-group")return Jl;if(["data-table-expand","data-table-select"].includes(e.key))return ao}}function sl(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(n,...e.children.map(l=>sl(l,n+1))):n}function so(e){let n=!1;function l(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i)if(r&&(i.fixed=!0),i.fixed)if(i.children)for(let u=i.children.length-1;u>=0;u--)l(i.children[u],!0);else n?isNaN(Number(i.width))?Aa(`Multiple fixed columns should have a static width (key: ${i.key})`):i.minWidth=Math.max(Number(i.width)||0,Number(i.minWidth)||0):i.lastFixed=!0,n=!0;else if(i.children)for(let u=i.children.length-1;u>=0;u--)l(i.children[u]);else n=!1}for(let i=e.length-1;i>=0;i--)l(e[i]);function t(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!i)return r;if(i.children){i.fixedOffset=r;for(const u of i.children)r=t(u,r)}else i.fixed&&(i.fixedOffset=r,r+=parseFloat(i.width||"0")||0);return r}let o=0;for(const i of e)o=t(i,o)}function io(e,n){const l=[];let t=0;const o=no(e);for(;o.size()>0;){let r=o.count();const u=[];let f=1;for(;r>0;){const{element:h,priority:m}=o.dequeue(),y=n-t-sl(h);if(u.push({...h,rowspan:y??1,colspan:h.children?Xt(h).length:1}),h.children)for(const _ of h.children){const p=m%1+f/Math.pow(10,t+2);o.enqueue(_,t+y+p)}f+=1,r-=1}t+=1,l.push(u)}return{columns:e.map(r=>Xt(r)).flat(),headers:l}}function Zl(e){const n=[];for(const l of e){const t={...oo(l),...l},o=t.key??(typeof t.value=="string"?t.value:null),i=t.value??o??null,r={...t,key:o,value:i,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?Zl(t.children):void 0};n.push(r)}return n}function uo(e,n){const l=E([]),t=E([]),o=E({}),i=E({}),r=E({});ct(()=>{var V,$,D;const h=(e.headers||Object.keys(e.items[0]??{}).map(C=>({key:C,title:Da(C)}))).slice(),m=Ql(h);(V=n==null?void 0:n.groupBy)!=null&&V.value.length&&!m.has("data-table-group")&&h.unshift({key:"data-table-group",title:"Group"}),($=n==null?void 0:n.showSelect)!=null&&$.value&&!m.has("data-table-select")&&h.unshift({key:"data-table-select"}),(D=n==null?void 0:n.showExpand)!=null&&D.value&&!m.has("data-table-expand")&&h.push({key:"data-table-expand"});const y=Zl(h);so(y);const _=Math.max(...y.map(C=>sl(C)))+1,p=io(y,_);l.value=p.headers,t.value=p.columns;const w=p.headers.flat(1);for(const C of w)C.key&&(C.sortable&&(C.sort&&(o.value[C.key]=C.sort),C.sortRaw&&(i.value[C.key]=C.sortRaw)),C.filter&&(r.value[C.key]=C.filter))});const u={headers:l,columns:t,sortFunctions:o,sortRawFunctions:i,filterFunctions:r};return He(ql,u),u}function zt(){const e=Re(ql);if(!e)throw new Error("Missing headers!");return e}const ro={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:n,value:l}=e;return new Set(l?[(t=n[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:n}=e;return n}},ea={showSelectAll:!0,allSelected:e=>{let{currentPage:n}=e;return n},select:e=>{let{items:n,value:l,selected:t}=e;for(const o of n)l?t.add(o.value):t.delete(o.value);return t},selectAll:e=>{let{value:n,currentPage:l,selected:t}=e;return ea.select({items:l,value:n,selected:t})}},ta={showSelectAll:!0,allSelected:e=>{let{allItems:n}=e;return n},select:e=>{let{items:n,value:l,selected:t}=e;for(const o of n)l?t.add(o.value):t.delete(o.value);return t},selectAll:e=>{let{value:n,allItems:l,selected:t}=e;return ta.select({items:l,value:n,selected:t})}},co=q({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Qe}},"DataTable-select"),la=Symbol.for("vuetify:data-table-selection");function vo(e,n){let{allItems:l,currentPage:t}=n;const o=ye(e,"modelValue",e.modelValue,C=>new Set(Ie(C).map(M=>{var I;return((I=l.value.find(b=>e.valueComparator(M,b.value)))==null?void 0:I.value)??M})),C=>[...C.values()]),i=O(()=>l.value.filter(C=>C.selectable)),r=O(()=>t.value.filter(C=>C.selectable)),u=O(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return ro;case"all":return ta;case"page":default:return ea}}),f=be(null);function h(C){return Ie(C).every(M=>o.value.has(M.value))}function m(C){return Ie(C).some(M=>o.value.has(M.value))}function y(C,M){const I=u.value.select({items:C,value:M,selected:new Set(o.value)});o.value=I}function _(C,M,I){const b=[];if(M=M??t.value.findIndex(T=>T.value===C.value),e.selectStrategy!=="single"&&(I!=null&&I.shiftKey)&&f.value!==null){const[T,x]=[f.value,M].sort((S,g)=>S-g);b.push(...t.value.slice(T,x+1).filter(S=>S.selectable))}else b.push(C),f.value=M;y(b,!h([C]))}function p(C){const M=u.value.selectAll({value:C,allItems:i.value,currentPage:r.value,selected:new Set(o.value)});o.value=M}const w=O(()=>o.value.size>0),V=O(()=>{const C=u.value.allSelected({allItems:i.value,currentPage:r.value});return!!C.length&&h(C)}),$=K(()=>u.value.showSelectAll),D={toggleSelect:_,select:y,selectAll:p,isSelected:h,isSomeSelected:m,someSelected:w,allSelected:V,showSelectAll:$,lastSelectedIndex:f,selectStrategy:u};return He(la,D),D}function Nt(){const e=Re(la);if(!e)throw new Error("Missing selection!");return e}const fo=q({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),aa=Symbol.for("vuetify:data-table-sort");function mo(e){const n=ye(e,"sortBy"),l=K(()=>e.mustSort),t=K(()=>e.multiSort);return{sortBy:n,mustSort:l,multiSort:t}}function go(e){const{sortBy:n,mustSort:l,multiSort:t,page:o}=e,i=f=>{if(f.key==null)return;let h=n.value.map(y=>({...y}))??[];const m=h.find(y=>y.key===f.key);m?m.order==="desc"?l.value&&h.length===1?m.order="asc":h=h.filter(y=>y.key!==f.key):m.order="desc":t.value?h.push({key:f.key,order:"asc"}):h=[{key:f.key,order:"asc"}],n.value=h,o&&(o.value=1)};function r(f){return!!n.value.find(h=>h.key===f.key)}const u={sortBy:n,toggleSort:i,isSorted:r};return He(aa,u),u}function na(){const e=Re(aa);if(!e)throw new Error("Missing sort!");return e}function yo(e,n,l,t){const o=Fe();return{sortedItems:O(()=>{var r,u;return l.value.length?bo(n.value,l.value,o.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(r=t==null?void 0:t.sortFunctions)==null?void 0:r.value},sortRawFunctions:(u=t==null?void 0:t.sortRawFunctions)==null?void 0:u.value}):n.value})}}function bo(e,n,l,t){const o=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(r=>[r,t!=null&&t.transform?t.transform(r):r]).sort((r,u)=>{var f,h;for(let m=0;m<n.length;m++){let y=!1;const _=n[m].key,p=n[m].order??"asc";if(p===!1)continue;let w=Pt(r[1],_),V=Pt(u[1],_),$=r[0].raw,D=u[0].raw;if(p==="desc"&&([w,V]=[V,w],[$,D]=[D,$]),(f=t==null?void 0:t.sortRawFunctions)!=null&&f[_]){const C=t.sortRawFunctions[_]($,D);if(C==null)continue;if(y=!0,C)return C}if((h=t==null?void 0:t.sortFunctions)!=null&&h[_]){const C=t.sortFunctions[_](w,V);if(C==null)continue;if(y=!0,C)return C}if(!y&&(w instanceof Date&&V instanceof Date&&(w=w.getTime(),V=V.getTime()),[w,V]=[w,V].map(C=>C!=null?C.toString().toLocaleLowerCase():C),w!==V))return wt(w)&&wt(V)?0:wt(w)?-1:wt(V)?1:!isNaN(w)&&!isNaN(V)?Number(w)-Number(V):o.compare(w,V)}return 0}).map(r=>{let[u]=r;return u})}const oa=q({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:pe,default:"$sortAsc"},sortDescIcon:{type:pe,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...tl(),...Al()},"VDataTableHeaders"),hl=ne()({name:"VDataTableHeaders",props:oa(),setup(e,n){let{slots:l}=n;const{t}=Fe(),{toggleSort:o,sortBy:i,isSorted:r}=na(),{someSelected:u,allSelected:f,selectAll:h,showSelectAll:m}=Nt(),{columns:y,headers:_}=zt(),{loaderClasses:p}=Bl(e);function w(g,c){if(!(!(e.sticky||e.fixedHeader)&&!g.fixed))return{position:"sticky",left:g.fixed?ke(g.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${c})`:void 0}}function V(g,c){g.key==="Enter"&&!e.disableSort&&o(c)}function $(g){const c=i.value.find(B=>B.key===g.key);return c?c.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:D,backgroundColorStyles:C}=bt(()=>e.color),{displayClasses:M,mobile:I}=mt(e),b=O(()=>({headers:_.value,columns:y.value,toggleSort:o,isSorted:r,sortBy:i.value,someSelected:u.value,allSelected:f.value,selectAll:h,getSortIcon:$})),T=O(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},M.value,p.value]),x=g=>{let{column:c,x:B,y:U}=g;const z=c.key==="data-table-select"||c.key==="data-table-expand",L=Q(e.headerProps??{},c.headerProps??{});return a(Bt,Q({tag:"th",align:c.align,class:[{"v-data-table__th--sortable":c.sortable&&!e.disableSort,"v-data-table__th--sorted":r(c),"v-data-table__th--fixed":c.fixed},...T.value],style:{width:ke(c.width),minWidth:ke(c.minWidth),maxWidth:ke(c.maxWidth),...w(c,U)},colspan:c.colspan,rowspan:c.rowspan,fixed:c.fixed,nowrap:c.nowrap,lastFixed:c.lastFixed,noPadding:z,tabindex:c.sortable?0:void 0,onClick:c.sortable?()=>o(c):void 0,onKeydown:c.sortable?k=>V(k,c):void 0},L),{default:()=>{var A;const k=`header.${c.key}`,d={column:c,selectAll:h,isSorted:r,toggleSort:o,sortBy:i.value,someSelected:u.value,allSelected:f.value,getSortIcon:$};return l[k]?l[k](d):c.key==="data-table-select"?((A=l["header.data-table-select"])==null?void 0:A.call(l,d))??(m.value&&a(Ze,{modelValue:f.value,indeterminate:u.value&&!f.value,"onUpdate:modelValue":h},null)):s("div",{class:"v-data-table-header__content"},[s("span",null,[c.title]),c.sortable&&!e.disableSort&&a(le,{key:"icon",class:"v-data-table-header__sort-icon",icon:$(c)},null),e.multiSort&&r(c)&&s("div",{key:"badge",class:ue(["v-data-table-header__sort-badge",...D.value]),style:_e(C.value)},[i.value.findIndex(Y=>Y.key===c.key)+1])])}})},S=()=>{const g=O(()=>y.value.filter(B=>(B==null?void 0:B.sortable)&&!e.disableSort)),c=O(()=>{if(y.value.find(U=>U.key==="data-table-select")!=null)return f.value?"$checkboxOn":u.value?"$checkboxIndeterminate":"$checkboxOff"});return a(Bt,Q({tag:"th",class:[...T.value],colspan:_.value.length+1},e.headerProps),{default:()=>[s("div",{class:"v-data-table-header__content"},[a(Ye,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:g.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>i.value=[],appendIcon:c.value,"onClick:append":()=>h(!f.value)},{...l,chip:B=>{var U;return a(De,{onClick:(U=B.item.raw)!=null&&U.sortable?()=>o(B.item.raw):void 0,onMousedown:z=>{z.preventDefault(),z.stopPropagation()}},{default:()=>[B.item.title,a(le,{class:ue(["v-data-table__td-sort-icon",r(B.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:$(B.item.raw),size:"small"},null)]})}})])]})};se(()=>I.value?s("tr",null,[a(S,null,null)]):s(ae,null,[l.headers?l.headers(b.value):_.value.map((g,c)=>s("tr",null,[g.map((B,U)=>a(x,{column:B,x:U,y:c},null))])),e.loading&&s("tr",{class:"v-data-table-progress"},[s("th",{colspan:y.value.length},[a(Dl,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),ho=q({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),sa=Symbol.for("vuetify:data-table-group");function po(e){return{groupBy:ye(e,"groupBy")}}function xo(e){const{disableSort:n,groupBy:l,sortBy:t}=e,o=E(new Set),i=O(()=>l.value.map(m=>({...m,order:m.order??!1})).concat(n!=null&&n.value?[]:t.value));function r(m){return o.value.has(m.id)}function u(m){const y=new Set(o.value);r(m)?y.delete(m.id):y.add(m.id),o.value=y}function f(m){function y(_){const p=[];for(const w of _.items)"type"in w&&w.type==="group"?p.push(...y(w)):p.push(w);return[...new Set(p)]}return y({items:m})}const h={sortByWithGroups:i,toggleGroup:u,opened:o,groupBy:l,extractRows:f,isGroupOpen:r};return He(sa,h),h}function ia(){const e=Re(sa);if(!e)throw new Error("Missing group!");return e}function _o(e,n){if(!e.length)return[];const l=new Map;for(const t of e){const o=Pt(t.raw,n);l.has(o)||l.set(o,[]),l.get(o).push(t)}return l}function ua(e,n){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const o=_o(e,n[0]),i=[],r=n.slice(1);return o.forEach((u,f)=>{const h=n[0],m=`${t}_${h}_${f}`;i.push({depth:l,id:m,key:h,value:f,items:r.length?ua(u,r,l+1,m):u,type:"group"})}),i}function ra(e,n){const l=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&l.push(t),(n.has(t.id)||t.value==null)&&l.push(...ra(t.items,n))):l.push(t);return l}function ko(e,n,l){return{flatItems:O(()=>{if(!n.value.length)return e.value;const o=ua(e.value,n.value.map(i=>i.key));return ra(o,l.value)})}}const So=q({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Vo=ne()({name:"VDataTableGroupHeaderRow",props:So(),setup(e,n){let{slots:l}=n;const{isGroupOpen:t,toggleGroup:o,extractRows:i}=ia(),{isSelected:r,isSomeSelected:u,select:f}=Nt(),{columns:h}=zt(),m=O(()=>i([e.item]));return()=>s("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[h.value.map(y=>{var _,p;if(y.key==="data-table-group"){const w=t(e.item)?"$expand":"$next",V=()=>o(e.item);return((_=l["data-table-group"])==null?void 0:_.call(l,{item:e.item,count:m.value.length,props:{icon:w,onClick:V}}))??a(Bt,{class:"v-data-table-group-header-row__column"},{default:()=>[a(X,{size:"small",variant:"text",icon:w,onClick:V},null),s("span",null,[e.item.value]),s("span",null,[R("("),m.value.length,R(")")])]})}if(y.key==="data-table-select"){const w=r(m.value),V=u(m.value)&&!w,$=D=>f(m.value,D);return((p=l["data-table-select"])==null?void 0:p.call(l,{props:{modelValue:w,indeterminate:V,"onUpdate:modelValue":$}}))??s("td",null,[a(Ze,{modelValue:w,indeterminate:V,"onUpdate:modelValue":$},null)])}return s("td",null,null)})])}}),wo=q({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),da=Symbol.for("vuetify:datatable:expanded");function Co(e){const n=K(()=>e.expandOnClick),l=ye(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function t(u,f){const h=new Set(l.value);f?h.add(u.value):h.delete(u.value),l.value=h}function o(u){return l.value.has(u.value)}function i(u){t(u,!o(u))}const r={expand:t,expanded:l,expandOnClick:n,isExpanded:o,toggleExpand:i};return He(da,r),r}function ca(){const e=Re(da);if(!e)throw new Error("foo");return e}const Io=q({index:Number,item:Object,cellProps:[Object,Function],onClick:Ue(),onContextmenu:Ue(),onDblclick:Ue(),...tl()},"VDataTableRow"),Po=ne()({name:"VDataTableRow",props:Io(),setup(e,n){let{slots:l}=n;const{displayClasses:t,mobile:o}=mt(e,"v-data-table__tr"),{isSelected:i,toggleSelect:r,someSelected:u,allSelected:f,selectAll:h}=Nt(),{isExpanded:m,toggleExpand:y}=ca(),{toggleSort:_,sortBy:p,isSorted:w}=na(),{columns:V}=zt();se(()=>s("tr",{class:ue(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&V.value.map(($,D)=>{const C=e.item,M=`item.${$.key}`,I=`header.${$.key}`,b={index:e.index,item:C.raw,internalItem:C,value:Pt(C.columns,$.key),column:$,isSelected:i,toggleSelect:r,isExpanded:m,toggleExpand:y},T={column:$,selectAll:h,isSorted:w,toggleSort:_,sortBy:p.value,someSelected:u.value,allSelected:f.value,getSortIcon:()=>""},x=typeof e.cellProps=="function"?e.cellProps({index:b.index,item:b.item,internalItem:b.internalItem,value:b.value,column:$}):e.cellProps,S=typeof $.cellProps=="function"?$.cellProps({index:b.index,item:b.item,internalItem:b.internalItem,value:b.value}):$.cellProps;return a(Bt,Q({align:$.align,class:{"v-data-table__td--expanded-row":$.key==="data-table-expand","v-data-table__td--select-row":$.key==="data-table-select"},fixed:$.fixed,fixedOffset:$.fixedOffset,lastFixed:$.lastFixed,maxWidth:o.value?void 0:$.maxWidth,noPadding:$.key==="data-table-select"||$.key==="data-table-expand",nowrap:$.nowrap,width:o.value?void 0:$.width},x,S),{default:()=>{var c,B,U,z;if($.key==="data-table-select")return((c=l["item.data-table-select"])==null?void 0:c.call(l,{...b,props:{disabled:!C.selectable,modelValue:i([C]),onClick:Me(()=>r(C),["stop"])}}))??a(Ze,{disabled:!C.selectable,modelValue:i([C]),onClick:Me(L=>r(C,e.index,L),["stop"])},null);if($.key==="data-table-expand")return((B=l["item.data-table-expand"])==null?void 0:B.call(l,{...b,props:{icon:m(C)?"$collapse":"$expand",size:"small",variant:"text",onClick:Me(()=>y(C),["stop"])}}))??a(X,{icon:m(C)?"$collapse":"$expand",size:"small",variant:"text",onClick:Me(()=>y(C),["stop"])},null);if(l[M]&&!o.value)return l[M](b);const g=G(b.value);return o.value?s(ae,null,[s("div",{class:"v-data-table__td-title"},[((U=l[I])==null?void 0:U.call(l,T))??$.title]),s("div",{class:"v-data-table__td-value"},[((z=l[M])==null?void 0:z.call(l,b))??g])]):g}})})]))}}),va=q({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...tl()},"VDataTableRows"),pl=ne()({name:"VDataTableRows",inheritAttrs:!1,props:va(),setup(e,n){let{attrs:l,slots:t}=n;const{columns:o}=zt(),{expandOnClick:i,toggleExpand:r,isExpanded:u}=ca(),{isSelected:f,toggleSelect:h}=Nt(),{toggleGroup:m,isGroupOpen:y}=ia(),{t:_}=Fe(),{mobile:p}=mt(e);return se(()=>{var w,V;return e.loading&&(!e.items.length||t.loading)?s("tr",{class:"v-data-table-rows-loading",key:"loading"},[s("td",{colspan:o.value.length},[((w=t.loading)==null?void 0:w.call(t))??_(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?s("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[s("td",{colspan:o.value.length},[((V=t["no-data"])==null?void 0:V.call(t))??_(e.noDataText)])]):s(ae,null,[e.items.map(($,D)=>{var I;if($.type==="group"){const b={index:D,item:$,columns:o.value,isExpanded:u,toggleExpand:r,isSelected:f,toggleSelect:h,toggleGroup:m,isGroupOpen:y};return t["group-header"]?t["group-header"](b):a(Vo,Q({key:`group-header_${$.id}`,item:$},dl(l,":group-header",()=>b)),t)}const C={index:D,item:$.raw,internalItem:$,columns:o.value,isExpanded:u,toggleExpand:r,isSelected:f,toggleSelect:h},M={...C,props:Q({key:`item_${$.key??$.index}`,onClick:i.value?()=>{r($)}:void 0,index:D,item:$,cellProps:e.cellProps,mobile:p.value},dl(l,":row",()=>C),typeof e.rowProps=="function"?e.rowProps({item:C.item,index:C.index,internalItem:C.internalItem}):e.rowProps)};return s(ae,{key:M.props.key},[t.item?t.item(M):a(Po,M.props,t),u($)&&((I=t["expanded-row"])==null?void 0:I.call(t,C))])})])}),{}}}),fa=q({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Se(),...st(),...nt(),...Ne()},"VTable"),Dt=ne()({name:"VTable",props:fa(),setup(e,n){let{slots:l,emit:t}=n;const{themeClasses:o}=tt(e),{densityClasses:i}=ht(e);return se(()=>a(e.tag,{class:ue(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":e.hover},o.value,i.value,e.class]),style:_e(e.style)},{default:()=>{var r,u,f;return[(r=l.top)==null?void 0:r.call(l),l.default?s("div",{class:"v-table__wrapper",style:{height:ke(e.height)}},[s("table",null,[l.default()])]):(u=l.wrapper)==null?void 0:u.call(l),(f=l.bottom)==null?void 0:f.call(l)]}})),{}}}),$o=q({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function To(e,n,l,t){const o=e.returnObject?n:qe(n,e.itemValue),i=qe(n,e.itemSelectable,!0),r=t.reduce((u,f)=>(f.key!=null&&(u[f.key]=qe(n,f.value)),u),{});return{type:"item",key:e.returnObject?qe(n,e.itemValue):o,index:l,value:o,selectable:i,columns:r,raw:n}}function Bo(e,n,l){return n.map((t,o)=>To(e,t,o,l))}function Do(e,n){return{items:O(()=>Bo(e,e.items,n.value))}}function Ao(e){let{page:n,itemsPerPage:l,sortBy:t,groupBy:o,search:i}=e;const r=Et("VDataTable"),u=()=>({page:n.value,itemsPerPage:l.value,sortBy:t.value,groupBy:o.value,search:i.value});let f=null;ve(u,h=>{Qe(f,h)||(f&&f.search!==h.search&&(n.value=1),r.emit("update:options",h),f=h)},{deep:!0,immediate:!0})}const Fo=(e,n,l)=>{if(e==null||n==null)return-1;if(!n.length)return 0;e=e.toString().toLocaleLowerCase(),n=n.toString().toLocaleLowerCase();const t=[];let o=e.indexOf(n);for(;~o;)t.push([o,o+n.length]),o=e.indexOf(n,o+n.length);return t.length?t:-1};function Gt(e,n){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+n.length]]:Array.isArray(e[0])?e:[e]}const Ro=q({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Eo(e,n,l){var u;const t=[],o=(l==null?void 0:l.default)??Fo,i=l!=null&&l.filterKeys?Ie(l.filterKeys):!1,r=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return t;e:for(let f=0;f<e.length;f++){const[h,m=h]=Ie(e[f]),y={},_={};let p=-1;if((n||r>0)&&!(l!=null&&l.noFilter)){if(typeof h=="object"){const $=i||Object.keys(m);for(const D of $){const C=qe(m,D),M=(u=l==null?void 0:l.customKeyFilter)==null?void 0:u[D];if(p=M?M(C,n,h):o(C,n,h),p!==-1&&p!==!1)M?y[D]=Gt(p,n):_[D]=Gt(p,n);else if((l==null?void 0:l.filterMode)==="every")continue e}}else p=o(h,n,h),p!==-1&&p!==!1&&(_.title=Gt(p,n));const w=Object.keys(_).length,V=Object.keys(y).length;if(!w&&!V||(l==null?void 0:l.filterMode)==="union"&&V!==r&&!w||(l==null?void 0:l.filterMode)==="intersection"&&(V!==r||!w))continue}t.push({index:f,matches:{..._,...y}})}return t}function Lo(e,n,l,t){const o=be([]),i=be(new Map),r=O(()=>t!=null&&t.transform?j(n).map(f=>[f,t.transform(f)]):j(n));ct(()=>{const f=typeof l=="function"?l():j(l),h=typeof f!="string"&&typeof f!="number"?"":String(f),m=Eo(r.value,h,{customKeyFilter:{...e.customKeyFilter,...j(t==null?void 0:t.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),y=j(n),_=[],p=new Map;m.forEach(w=>{let{index:V,matches:$}=w;const D=y[V];_.push(D),p.set(D.value,$)}),o.value=_,i.value=p});function u(f){return i.value.get(f.value)}return{filteredItems:o,filteredMatches:i,getMatches:u}}const Mo=q({...va(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...wo(),...ho(),...lo(),...$o(),...co(),...fo(),...oa(),...fa()},"DataTable"),Oo=q({...Jn(),...Mo(),...Ro(),...Yl()},"VDataTable"),Uo=ne()({name:"VDataTable",props:Oo(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,n){let{attrs:l,slots:t}=n;const{groupBy:o}=po(e),{sortBy:i,multiSort:r,mustSort:u}=mo(e),{page:f,itemsPerPage:h}=Qn(e),{disableSort:m}=Fa(e),{columns:y,headers:_,sortFunctions:p,sortRawFunctions:w,filterFunctions:V}=uo(e,{groupBy:o,showSelect:K(()=>e.showSelect),showExpand:K(()=>e.showExpand)}),{items:$}=Do(e,y),D=K(()=>e.search),{filteredItems:C}=Lo(e,$,D,{transform:N=>N.columns,customKeyFilter:V}),{toggleSort:M}=go({sortBy:i,multiSort:r,mustSort:u,page:f}),{sortByWithGroups:I,opened:b,extractRows:T,isGroupOpen:x,toggleGroup:S}=xo({groupBy:o,sortBy:i,disableSort:m}),{sortedItems:g}=yo(e,C,I,{transform:N=>({...N.raw,...N.columns}),sortFunctions:p,sortRawFunctions:w}),{flatItems:c}=ko(g,o,b),B=O(()=>c.value.length),{startIndex:U,stopIndex:z,pageCount:L,setItemsPerPage:k}=Zn({page:f,itemsPerPage:h,itemsLength:B}),{paginatedItems:d}=to({items:c,startIndex:U,stopIndex:z,itemsPerPage:h}),A=O(()=>T(d.value)),{isSelected:Y,select:Z,selectAll:F,toggleSelect:W,someSelected:J,allSelected:ee}=vo(e,{allItems:$,currentPage:A}),{isExpanded:ce,toggleExpand:H}=Co(e);Ao({page:f,itemsPerPage:h,sortBy:i,groupBy:o,search:D}),dt({VDataTableRows:{hideNoData:K(()=>e.hideNoData),noDataText:K(()=>e.noDataText),loading:K(()=>e.loading),loadingText:K(()=>e.loadingText)}});const P=O(()=>({page:f.value,itemsPerPage:h.value,sortBy:i.value,pageCount:L.value,toggleSort:M,setItemsPerPage:k,someSelected:J.value,allSelected:ee.value,isSelected:Y,select:Z,selectAll:F,toggleSelect:W,isExpanded:ce,toggleExpand:H,isGroupOpen:x,toggleGroup:S,items:A.value.map(N=>N.raw),internalItems:A.value,groupedItems:d.value,columns:y.value,headers:_.value}));return se(()=>{const N=bl.filterProps(e),oe=hl.filterProps(e),he=pl.filterProps(e),Be=Dt.filterProps(e);return a(Dt,Q({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Be,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var fe;return(fe=t.top)==null?void 0:fe.call(t,P.value)},default:()=>{var fe,ie,Ee,rt,kt,St;return t.default?t.default(P.value):s(ae,null,[(fe=t.colgroup)==null?void 0:fe.call(t,P.value),!e.hideDefaultHeader&&s("thead",{key:"thead"},[a(hl,oe,t)]),(ie=t.thead)==null?void 0:ie.call(t,P.value),!e.hideDefaultBody&&s("tbody",null,[(Ee=t["body.prepend"])==null?void 0:Ee.call(t,P.value),t.body?t.body(P.value):a(pl,Q(l,he,{items:d.value}),t),(rt=t["body.append"])==null?void 0:rt.call(t,P.value)]),(kt=t.tbody)==null?void 0:kt.call(t,P.value),(St=t.tfoot)==null?void 0:St.call(t,P.value)])},bottom:()=>t.bottom?t.bottom(P.value):!e.hideDefaultFooter&&s(ae,null,[a(vt,null,null),a(bl,N,{prepend:t["footer.prepend"]})])})}),{}}}),zo=q({...Se(),...In()},"VForm"),Yt=ne()({name:"VForm",props:zo(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,n){let{slots:l,emit:t}=n;const o=Pn(e),i=E();function r(f){f.preventDefault(),o.reset()}function u(f){const h=f,m=o.validate();h.then=m.then.bind(m),h.catch=m.catch.bind(m),h.finally=m.finally.bind(m),t("submit",h),h.defaultPrevented||m.then(y=>{var p;let{valid:_}=y;_&&((p=i.value)==null||p.submit())}),h.preventDefault()}return se(()=>{var f;return s("form",{ref:i,class:ue(["v-form",e.class]),style:_e(e.style),novalidate:!0,onReset:r,onSubmit:u},[(f=l.default)==null?void 0:f.call(l,o)])}),it(o,i)}}),No=q({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,..._t(),...Ut()},"VTextarea"),ft=ne()({name:"VTextarea",directives:{vIntersect:$t},inheritAttrs:!1,props:No(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:l,emit:t,slots:o}=n;const i=ye(e,"modelValue"),{isFocused:r,focus:u,blur:f}=xt(e),{onIntersect:h}=Wl(e),m=O(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),y=O(()=>{if(l.maxlength)return l.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),_=E(),p=E(),w=be(""),V=E(),$=O(()=>e.persistentPlaceholder||r.value||e.active);function D(){var B;V.value!==document.activeElement&&((B=V.value)==null||B.focus()),r.value||u()}function C(B){D(),t("click:control",B)}function M(B){t("mousedown:control",B)}function I(B){B.stopPropagation(),D(),Ve(()=>{i.value="",Rt(e["onClick:clear"],B)})}function b(B){var z;const U=B.target;if(i.value=U.value,(z=e.modelModifiers)!=null&&z.trim){const L=[U.selectionStart,U.selectionEnd];Ve(()=>{U.selectionStart=L[0],U.selectionEnd=L[1]})}}const T=E(),x=E(Number(e.rows)),S=O(()=>["plain","underlined"].includes(e.variant));ct(()=>{e.autoGrow||(x.value=Number(e.rows))});function g(){e.autoGrow&&Ve(()=>{if(!T.value||!p.value)return;const B=getComputedStyle(T.value),U=getComputedStyle(p.value.$el),z=parseFloat(B.getPropertyValue("--v-field-padding-top"))+parseFloat(B.getPropertyValue("--v-input-padding-top"))+parseFloat(B.getPropertyValue("--v-field-padding-bottom")),L=T.value.scrollHeight,k=parseFloat(B.lineHeight),d=Math.max(parseFloat(e.rows)*k+z,parseFloat(U.getPropertyValue("--v-input-control-height"))),A=parseFloat(e.maxRows)*k+z||1/0,Y=Xe(L??0,d,A);x.value=Math.floor((Y-z)/k),w.value=ke(Y)})}We(g),ve(i,g),ve(()=>e.rows,g),ve(()=>e.maxRows,g),ve(()=>e.density,g);let c;return ve(T,B=>{B?(c=new ResizeObserver(g),c.observe(T.value)):c==null||c.disconnect()}),Sl(()=>{c==null||c.disconnect()}),se(()=>{const B=!!(o.counter||e.counter||e.counterValue),U=!!(B||o.details),[z,L]=gt(l),{modelValue:k,...d}=je.filterProps(e),A=et.filterProps(e);return a(je,Q({ref:_,modelValue:i.value,"onUpdate:modelValue":Y=>i.value=Y,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":S.value},e.class],style:e.style},z,d,{centerAffix:x.value===1&&!S.value,focused:r.value}),{...o,default:Y=>{let{id:Z,isDisabled:F,isDirty:W,isReadonly:J,isValid:ee}=Y;return a(et,Q({ref:p,style:{"--v-textarea-control-height":w.value},onClick:C,onMousedown:M,"onClick:clear":I,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},A,{id:Z.value,active:$.value||W.value,centerAffix:x.value===1&&!S.value,dirty:W.value||e.dirty,disabled:F.value,focused:r.value,error:ee.value===!1}),{...o,default:ce=>{let{props:{class:H,...P}}=ce;return s(ae,null,[e.prefix&&s("span",{class:"v-text-field__prefix"},[e.prefix]),Te(s("textarea",Q({ref:V,class:H,value:i.value,onInput:b,autofocus:e.autofocus,readonly:J.value,disabled:F.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:D,onBlur:f},P,L),null),[[$t,{handler:h},null,{once:!0}]]),e.autoGrow&&Te(s("textarea",{class:ue([H,"v-textarea__sizer"]),id:`${P.id}-sizer`,"onUpdate:modelValue":N=>i.value=N,ref:T,readonly:!0,"aria-hidden":"true"},null),[[Ra,i.value]]),e.suffix&&s("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:U?Y=>{var Z;return s(ae,null,[(Z=o.details)==null?void 0:Z.call(o,Y),B&&s(ae,null,[s("span",null,null),a(ol,{active:e.persistentCounter||r.value,value:m.value,max:y.value,disabled:e.disabled},o.counter)])])}:void 0})}),it({},_,p,V)}}),Ho={class:"article-manager"},Go={class:"toolbar"},jo={class:"toolbar-left"},Wo={class:"toolbar-right"},Ko={class:"article-title"},Xo={class:"title-text"},Yo={class:"excerpt"},qo={class:"action-buttons"},Jo={class:"article-meta"},Qo={class:"mx-2"},Zo={class:"article-excerpt"},es=["innerHTML"],ts=at({__name:"ArticleManager",setup(e){const n=E(!1),l=E(""),t=E(""),o=E(!1),i=E(!1),r=E(!1),u=E(!1),f=E(!1),h=E(""),m=E("success"),y=E([]),_=E(null),p=E(null),w=E(null),V=E({title:"",date:"",category:"",excerpt:"",content:"",readTime:"",tags:""}),$=[{title:"标题",key:"title",sortable:!0},{title:"分类",key:"category",sortable:!0},{title:"发布日期",key:"date",sortable:!0},{title:"阅读时间",key:"readTime",sortable:!1},{title:"操作",key:"actions",sortable:!1,width:"120"}],D=["企業ニュース","サービス","コーヒー事業","展示・イベント","釣具・器具","LAB・研究開発","クラブ活動"],C={required:L=>!!L||"此字段为必填项"},M=O(()=>{let L=y.value;if(l.value){const k=l.value.toLowerCase();L=L.filter(d=>d.title.toLowerCase().includes(k)||d.excerpt.toLowerCase().includes(k)||d.category.toLowerCase().includes(k))}return t.value&&(L=L.filter(k=>k.category===t.value)),L.sort((k,d)=>new Date(d.date).getTime()-new Date(k.date).getTime())}),I=()=>{try{const L=localStorage.getItem("notrace_articles");L?y.value=JSON.parse(L):(y.value=[...vl],b())}catch(L){console.error("Failed to load articles:",L),y.value=[...vl]}},b=()=>{try{localStorage.setItem("notrace_articles",JSON.stringify(y.value))}catch(L){console.error("Failed to save articles:",L),f.value=!0,h.value="保存失败",m.value="error"}},T=L=>new Date(L.replace(/\./g,"-")).toLocaleDateString("zh-CN"),x=L=>({企業ニュース:"blue",サービス:"green",コーヒー事業:"brown","展示・イベント":"purple","釣具・器具":"orange","LAB・研究開発":"red",クラブ活動:"pink"})[L]||"grey",S=L=>{p.value=L,i.value=!0},g=L=>{_.value=L,V.value={title:L.title,date:L.date.replace(/\./g,"-"),category:L.category,excerpt:L.excerpt,content:L.content,readTime:L.readTime,tags:L.tags.join(", ")},o.value=!0},c=L=>{w.value=L,r.value=!0},B=()=>{if(w.value){const L=y.value.findIndex(k=>k.id===w.value.id);L!==-1&&(y.value.splice(L,1),b(),f.value=!0,h.value="文章已删除",m.value="success")}r.value=!1,w.value=null},U=()=>{var k;if(!u.value)return;const L={id:((k=_.value)==null?void 0:k.id)||Date.now(),title:V.value.title,date:V.value.date.replace(/-/g,"."),category:V.value.category,excerpt:V.value.excerpt,content:V.value.content,readTime:V.value.readTime||"阅读时间未设置",tags:V.value.tags.split(",").map(d=>d.trim()).filter(Boolean)};if(_.value){const d=y.value.findIndex(A=>A.id===_.value.id);d!==-1&&(y.value[d]=L,f.value=!0,h.value="文章已更新",m.value="success")}else y.value.unshift(L),f.value=!0,h.value="文章已创建",m.value="success";b(),z()},z=()=>{o.value=!1,_.value=null,V.value={title:"",date:"",category:"",excerpt:"",content:"",readTime:"",tags:""}};return We(()=>{I()}),(L,k)=>(te(),re("div",Ho,[s("div",Go,[s("div",jo,[a(xe,{modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=d=>l.value=d),label:"搜索文章","prepend-icon":"mdi-magnify",variant:"outlined",density:"compact",class:"search-field",clearable:""},null,8,["modelValue"]),a(Ye,{modelValue:t.value,"onUpdate:modelValue":k[1]||(k[1]=d=>t.value=d),label:"筛选分类",items:D,variant:"outlined",density:"compact",class:"category-filter",clearable:""},null,8,["modelValue"])]),s("div",Wo,[a(X,{color:"primary",onClick:k[2]||(k[2]=d=>o.value=!0),"prepend-icon":"mdi-plus"},{default:v(()=>k[18]||(k[18]=[R(" 新建文章 ")])),_:1,__:[18]})])]),a(me,null,{default:v(()=>[a(we,{class:"d-flex align-center"},{default:v(()=>[a(le,{start:""},{default:v(()=>k[19]||(k[19]=[R("mdi-newspaper")])),_:1,__:[19]}),k[20]||(k[20]=R(" 文章列表 ")),a($e),a(De,{color:"primary",size:"small"},{default:v(()=>[R(G(M.value.length)+" 篇文章 ",1)]),_:1})]),_:1,__:[20]}),a(Uo,{headers:$,items:M.value,loading:n.value,"item-key":"id",class:"article-table","no-data-text":"暂无文章","loading-text":"加载中..."},{"item.title":v(({item:d})=>[s("div",Ko,[s("div",Xo,G(d.title),1),s("div",Yo,G(d.excerpt),1)])]),"item.category":v(({item:d})=>[a(De,{color:x(d.category),size:"small",variant:"tonal"},{default:v(()=>[R(G(d.category),1)]),_:2},1032,["color"])]),"item.date":v(({item:d})=>[R(G(T(d.date)),1)]),"item.readTime":v(({item:d})=>[a(De,{size:"small",variant:"outlined"},{default:v(()=>[R(G(d.readTime),1)]),_:2},1024)]),"item.actions":v(({item:d})=>[s("div",qo,[a(X,{icon:"mdi-eye",size:"small",variant:"text",onClick:A=>S(d),title:"查看"},null,8,["onClick"]),a(X,{icon:"mdi-pencil",size:"small",variant:"text",onClick:A=>g(d),title:"编辑"},null,8,["onClick"]),a(X,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:A=>c(d),title:"删除"},null,8,["onClick"])])]),_:1},8,["items","loading"])]),_:1}),a(Oe,{modelValue:o.value,"onUpdate:modelValue":k[11]||(k[11]=d=>o.value=d),"max-width":"1000",persistent:""},{default:v(()=>[a(me,null,{default:v(()=>[a(we,{class:"d-flex align-center"},{default:v(()=>[a(le,{start:""},{default:v(()=>[R(G(_.value?"mdi-pencil":"mdi-plus"),1)]),_:1}),R(" "+G(_.value?"编辑文章":"新建文章"),1)]),_:1}),a(ge,null,{default:v(()=>[a(Yt,{ref_key:"articleForm",ref:V,modelValue:u.value,"onUpdate:modelValue":k[10]||(k[10]=d=>u.value=d)},{default:v(()=>[a(Ce,null,{default:v(()=>[a(de,{cols:"12",md:"8"},{default:v(()=>[a(xe,{modelValue:V.value.title,"onUpdate:modelValue":k[3]||(k[3]=d=>V.value.title=d),label:"文章标题",rules:[C.required],variant:"outlined",required:""},null,8,["modelValue","rules"])]),_:1}),a(de,{cols:"12",md:"4"},{default:v(()=>[a(xe,{modelValue:V.value.date,"onUpdate:modelValue":k[4]||(k[4]=d=>V.value.date=d),label:"发布日期",type:"date",rules:[C.required],variant:"outlined",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(Ce,null,{default:v(()=>[a(de,{cols:"12",md:"6"},{default:v(()=>[a(Ye,{modelValue:V.value.category,"onUpdate:modelValue":k[5]||(k[5]=d=>V.value.category=d),label:"文章分类",items:D,rules:[C.required],variant:"outlined",required:""},null,8,["modelValue","rules"])]),_:1}),a(de,{cols:"12",md:"6"},{default:v(()=>[a(xe,{modelValue:V.value.readTime,"onUpdate:modelValue":k[6]||(k[6]=d=>V.value.readTime=d),label:"阅读时间",placeholder:"例如: 3分钟",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),a(Ce,null,{default:v(()=>[a(de,{cols:"12"},{default:v(()=>[a(xe,{modelValue:V.value.tags,"onUpdate:modelValue":k[7]||(k[7]=d=>V.value.tags=d),label:"标签 (用逗号分隔)",placeholder:"例如: 企业新闻, 产品更新",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),a(Ce,null,{default:v(()=>[a(de,{cols:"12"},{default:v(()=>[a(ft,{modelValue:V.value.excerpt,"onUpdate:modelValue":k[8]||(k[8]=d=>V.value.excerpt=d),label:"文章摘要",rules:[C.required],variant:"outlined",rows:"3",counter:"200",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(Ce,null,{default:v(()=>[a(de,{cols:"12"},{default:v(()=>[a(ft,{modelValue:V.value.content,"onUpdate:modelValue":k[9]||(k[9]=d=>V.value.content=d),label:"文章内容 (支持HTML)",rules:[C.required],variant:"outlined",rows:"10",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:z},{default:v(()=>k[21]||(k[21]=[R("取消")])),_:1,__:[21]}),a(X,{color:"primary",disabled:!u.value,onClick:U},{default:v(()=>[R(G(_.value?"保存":"创建"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Oe,{modelValue:i.value,"onUpdate:modelValue":k[13]||(k[13]=d=>i.value=d),"max-width":"800"},{default:v(()=>[p.value?(te(),Ke(me,{key:0},{default:v(()=>[a(we,null,{default:v(()=>[R(G(p.value.title),1)]),_:1}),a(ge,null,{default:v(()=>[s("div",Jo,[a(De,{color:"primary",size:"small"},{default:v(()=>[R(G(p.value.category),1)]),_:1}),s("span",Qo,G(T(p.value.date)),1),s("span",null,G(p.value.readTime),1)]),s("p",Zo,G(p.value.excerpt),1),s("div",{class:"article-content",innerHTML:p.value.content},null,8,es)]),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:k[12]||(k[12]=d=>i.value=!1)},{default:v(()=>k[22]||(k[22]=[R("关闭")])),_:1,__:[22]})]),_:1})]),_:1})):Pe("",!0)]),_:1},8,["modelValue"]),a(Oe,{modelValue:r.value,"onUpdate:modelValue":k[15]||(k[15]=d=>r.value=d),"max-width":"400"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,null,{default:v(()=>k[23]||(k[23]=[R("确认删除")])),_:1,__:[23]}),a(ge,null,{default:v(()=>{var d;return[R(' 确定要删除文章"'+G((d=w.value)==null?void 0:d.title)+'"吗？此操作不可撤销。 ',1)]}),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:k[14]||(k[14]=d=>r.value=!1)},{default:v(()=>k[24]||(k[24]=[R("取消")])),_:1,__:[24]}),a(X,{color:"error",onClick:B},{default:v(()=>k[25]||(k[25]=[R("删除")])),_:1,__:[25]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(pt,{modelValue:f.value,"onUpdate:modelValue":k[17]||(k[17]=d=>f.value=d),color:m.value,timeout:3e3},{actions:v(()=>[a(X,{variant:"text",onClick:k[16]||(k[16]=d=>f.value=!1)},{default:v(()=>k[26]||(k[26]=[R("关闭")])),_:1,__:[26]})]),default:v(()=>[R(G(h.value)+" ",1)]),_:1},8,["modelValue","color"])]))}}),ls=ut(ts,[["__scopeId","data-v-c31da707"]]),xl=[{id:"hero-backgrounds",name:"Hero背景图",description:"首页Hero区域的背景图片",count:0,createdAt:new Date().toISOString()},{id:"service-images",name:"服务图片",description:"服务展示相关图片",count:0,createdAt:new Date().toISOString()},{id:"logos",name:"Logo图标",description:"企业Logo和品牌图标",count:0,createdAt:new Date().toISOString()},{id:"partners",name:"合作伙伴",description:"合作伙伴Logo和图片",count:0,createdAt:new Date().toISOString()},{id:"articles",name:"文章图片",description:"文章内容相关图片",count:0,createdAt:new Date().toISOString()},{id:"general",name:"通用图片",description:"其他通用图片素材",count:0,createdAt:new Date().toISOString()}],as=["image/jpeg","image/jpg","image/png","image/webp","image/svg+xml"],ns=5*1024*1024,ma=()=>{const e={IMAGES:"notrace_images",CATEGORIES:"notrace_image_categories"},n=E([]),l=E([]),t=E(!1),o=E(null),i=()=>{r(),u()},r=()=>{try{const x=localStorage.getItem(e.IMAGES);x&&(n.value=JSON.parse(x))}catch(x){console.error("Failed to load images:",x),o.value="加载图片失败"}},u=()=>{try{const x=localStorage.getItem(e.CATEGORIES);x?l.value=JSON.parse(x):(l.value=[...xl],h()),m()}catch(x){console.error("Failed to load categories:",x),l.value=[...xl]}},f=()=>{try{localStorage.setItem(e.IMAGES,JSON.stringify(n.value))}catch(x){console.error("Failed to save images:",x),o.value="保存图片失败"}},h=()=>{try{localStorage.setItem(e.CATEGORIES,JSON.stringify(l.value))}catch(x){console.error("Failed to save categories:",x)}},m=()=>{l.value.forEach(x=>{x.count=n.value.filter(S=>S.category===x.id).length}),h()},y=x=>as.includes(x.type)?x.size>ns?`文件大小超过限制 (最大5MB): ${(x.size/1024/1024).toFixed(2)}MB`:null:`不支持的文件类型: ${x.type}`,_=()=>Date.now().toString(36)+Math.random().toString(36).substr(2,9),p=async(x,S={})=>{t.value=!0,o.value=null;try{const g=y(x);if(g)throw new Error(g);const c=_(),B=x.name.split(".").pop(),U=`${c}.${B}`,z=URL.createObjectURL(x),L={id:c,filename:U,originalName:x.name,category:S.category||"general",size:x.size,type:x.type,url:z,uploadDate:new Date().toISOString(),tags:S.tags||[],usage:[]};return S.description&&(L.description=S.description),n.value.unshift(L),f(),m(),L}catch(g){throw o.value=g instanceof Error?g.message:"上传失败",g}finally{t.value=!1}},w=async(x,S={})=>{const g=[];for(const c of x)try{const B=await p(c,S);g.push(B)}catch(B){console.error(`Failed to upload ${c.name}:`,B)}return g},V=x=>{const S=n.value.findIndex(c=>c.id===x);if(S===-1)return!1;const g=n.value[S];return g.url.startsWith("blob:")&&URL.revokeObjectURL(g.url),n.value.splice(S,1),f(),m(),!0},$=x=>{let S=0;return x.forEach(g=>{V(g)&&S++}),S},D=(x,S)=>{const g=n.value.findIndex(c=>c.id===x);return g===-1?!1:(n.value[g]={...n.value[g],...S},f(),S.category&&m(),!0)},C=x=>{let S=[...n.value];if(x.category&&(S=S.filter(g=>g.category===x.category)),x.tags&&x.tags.length>0&&(S=S.filter(g=>x.tags.some(c=>g.tags.includes(c)))),x.search){const g=x.search.toLowerCase();S=S.filter(c=>c.filename.toLowerCase().includes(g)||c.originalName.toLowerCase().includes(g)||c.tags.some(B=>B.toLowerCase().includes(g))||c.description&&c.description.toLowerCase().includes(g))}if(x.dateRange){const{start:g,end:c}=x.dateRange;S=S.filter(B=>{const U=new Date(B.uploadDate);return U>=new Date(g)&&U<=new Date(c)})}return S},M=()=>{const x=n.value.length,S=n.value.reduce((z,L)=>z+L.size,0),g={};l.value.forEach(z=>{g[z.name]=z.count});const c=new Date;c.setDate(c.getDate()-7);const B=n.value.filter(z=>new Date(z.uploadDate)>c).length,U=n.value.filter(z=>z.usage.length===0).length;return{totalImages:x,totalSize:S,categories:g,recentUploads:B,unusedImages:U}},I=(x,S)=>{const g={id:_(),name:x,description:S,count:0,createdAt:new Date().toISOString()};return l.value.push(g),h(),g},b=x=>{const S=l.value.findIndex(g=>g.id===x);return S===-1?!1:l.value[S].count>0?(o.value="不能删除包含图片的分类",!1):(l.value.splice(S,1),h(),!0)},T=()=>{n.value.forEach(x=>{x.url.startsWith("blob:")&&URL.revokeObjectURL(x.url)})};return We(()=>{i()}),Ea(()=>{T()}),{images:Ct(n),categories:Ct(l),loading:Ct(t),error:Ct(o),init:i,uploadImage:p,uploadImages:w,deleteImage:V,deleteImages:$,updateImage:D,filterImages:C,getStats:M,createCategory:I,deleteCategory:b,validateFile:y,imageCount:O(()=>n.value.length),totalSize:O(()=>n.value.reduce((x,S)=>x+S.size,0)),categoryOptions:O(()=>l.value.map(x=>({value:x.id,title:x.name})))}},os=La("v-alert-title"),ss=["success","info","warning","error"],is=q({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:pe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>ss.includes(e)},...Se(),...st(),...nl(),...El(),...Rl(),...on(),...Ot(),...nt(),...Ne(),...Tl({variant:"flat"})},"VAlert"),us=ne()({name:"VAlert",props:is(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{emit:l,slots:t}=n;const o=ye(e,"modelValue"),i=K(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{themeClasses:r}=tt(e),{colorClasses:u,colorStyles:f,variantClasses:h}=ln(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:m}=ht(e),{dimensionStyles:y}=al(e),{elevationClasses:_}=fn(e),{locationStyles:p}=Fl(e),{positionClasses:w}=an(e),{roundedClasses:V}=ll(e),{textColorClasses:$,textColorStyles:D}=ot(()=>e.borderColor),{t:C}=Fe(),M=K(()=>({"aria-label":C(e.closeLabel),onClick(I){o.value=!1,l("click:close",I)}}));return()=>{const I=!!(t.prepend||i.value),b=!!(t.title||e.title),T=!!(t.close||e.closable);return o.value&&a(e.tag,{class:ue(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},r.value,u.value,m.value,_.value,w.value,V.value,h.value,e.class]),style:_e([f.value,y.value,p.value,e.style]),role:"alert"},{default:()=>{var x,S;return[nn(!1,"v-alert"),e.border&&s("div",{key:"border",class:ue(["v-alert__border",$.value]),style:_e(D.value)},null),I&&s("div",{key:"prepend",class:"v-alert__prepend"},[t.prepend?a(Tt,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},t.prepend):a(le,{key:"prepend-icon",density:e.density,icon:i.value,size:e.prominent?44:28},null)]),s("div",{class:"v-alert__content"},[b&&a(os,{key:"title"},{default:()=>{var g;return[((g=t.title)==null?void 0:g.call(t))??e.title]}}),((x=t.text)==null?void 0:x.call(t))??e.text,(S=t.default)==null?void 0:S.call(t)]),t.append&&s("div",{key:"append",class:"v-alert__append"},[t.append()]),T&&s("div",{key:"close",class:"v-alert__close"},[t.close?a(Tt,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var g;return[(g=t.close)==null?void 0:g.call(t,{props:M.value})]}}):a(X,Q({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},M.value),null)])]}})}}}),rs={class:"image-uploader"},ds={class:"upload-content"},cs={class:"upload-title"},vs={key:0,class:"upload-progress"},fs={class:"upload-options"},ms={key:0,class:"upload-results"},gs={class:"results-title"},ys={class:"results-grid"},bs={class:"result-image"},hs=["src","alt"],ps={class:"result-info"},xs={class:"result-name"},_s={class:"result-size"},ks={class:"results-actions"},Ss=at({__name:"ImageUploader",props:{defaultCategory:{default:"general"},maxFiles:{default:10},showOptions:{type:Boolean,default:!0}},emits:["upload","error"],setup(e,{emit:n}){const l=e,t=n,{uploadImages:o,categoryOptions:i,validateFile:r}=ma(),u=E(!1),f=E(!1),h=E(""),m=E([]),y=E(l.defaultCategory),_=E(""),p=E(""),w=E(),V=T=>{if(T===0)return"0 B";const x=1024,S=["B","KB","MB","GB"],g=Math.floor(Math.log(T)/Math.log(x));return`${parseFloat((T/Math.pow(x,g)).toFixed(2))} ${S[g]}`},$=T=>{const S=T.target.files;S&&C(Array.from(S))},D=T=>{var S;u.value=!1;const x=(S=T.dataTransfer)==null?void 0:S.files;x&&C(Array.from(x))},C=async T=>{if(h.value="",T.length>l.maxFiles){h.value=`最多只能上传 ${l.maxFiles} 个文件`;return}const x=[];for(const S of T){const g=r(S);if(g){h.value=g;return}x.push(S)}if(x.length!==0)try{f.value=!0;const S={category:y.value,tags:_.value.split(",").map(c=>c.trim()).filter(Boolean)};p.value&&(S.description=p.value);const g=await o(x,S);m.value.push(...g),t("upload",g),w.value&&(w.value.value="")}catch(S){const g=S instanceof Error?S.message:"上传失败";h.value=g,t("error",g)}finally{f.value=!1}},M=()=>{var T;f.value||(T=w.value)==null||T.click()},I=T=>{const x=m.value.findIndex(S=>S.id===T);x!==-1&&m.value.splice(x,1)},b=()=>{m.value=[]};return ve(y,T=>{T!==l.defaultCategory&&(y.value=T)}),(T,x)=>(te(),re("div",rs,[s("div",{class:ue(["upload-area",{"drag-over":j(u),uploading:j(f)}]),onDrop:Me(D,["prevent"]),onDragover:x[0]||(x[0]=Me(S=>u.value=!0,["prevent"])),onDragleave:x[1]||(x[1]=S=>u.value=!1),onClick:M},[s("div",ds,[a(le,{size:"64",color:"primary",class:"upload-icon"},{default:v(()=>[R(G(j(u)?"mdi-cloud-upload":"mdi-image-plus"),1)]),_:1}),s("h3",cs,G(j(u)?"释放以上传图片":"拖拽图片到此处"),1),x[6]||(x[6]=s("p",{class:"upload-description"}," 或点击选择文件上传 ",-1)),x[7]||(x[7]=s("div",{class:"upload-info"},[s("p",{class:"info-text"}," 支持格式: JPG, PNG, WEBP, SVG "),s("p",{class:"info-text"}," 最大大小: 5MB ")],-1))]),j(f)?(te(),re("div",vs,[a(sn,{indeterminate:"",color:"primary",height:"4"}),x[8]||(x[8]=s("p",{class:"progress-text"},"正在上传...",-1))])):Pe("",!0)],34),s("input",{ref_key:"fileInput",ref:w,type:"file",multiple:"",accept:"image/*",style:{display:"none"},onChange:$},null,544),s("div",fs,[a(Ce,null,{default:v(()=>[a(de,{cols:"12",md:"6"},{default:v(()=>[a(Ye,{modelValue:j(y),"onUpdate:modelValue":x[2]||(x[2]=S=>Le(y)?y.value=S:null),label:"选择分类",items:j(i),"item-value":"value","item-title":"title","prepend-icon":"mdi-folder",variant:"outlined",density:"compact"},null,8,["modelValue","items"])]),_:1}),a(de,{cols:"12",md:"6"},{default:v(()=>[a(xe,{modelValue:j(_),"onUpdate:modelValue":x[3]||(x[3]=S=>Le(_)?_.value=S:null),label:"标签 (用逗号分隔)","prepend-icon":"mdi-tag-multiple",variant:"outlined",density:"compact",placeholder:"例如: logo, 首页, 背景"},null,8,["modelValue"])]),_:1})]),_:1}),a(Ce,null,{default:v(()=>[a(de,{cols:"12"},{default:v(()=>[a(xe,{modelValue:j(p),"onUpdate:modelValue":x[4]||(x[4]=S=>Le(p)?p.value=S:null),label:"描述","prepend-icon":"mdi-text",variant:"outlined",density:"compact",placeholder:"简单描述这张图片..."},null,8,["modelValue"])]),_:1})]),_:1})]),j(m).length>0?(te(),re("div",ms,[s("h4",gs,[a(le,{start:""},{default:v(()=>x[9]||(x[9]=[R("mdi-check-circle")])),_:1,__:[9]}),R(" 已上传 "+G(j(m).length)+" 个文件 ",1)]),s("div",ys,[(te(!0),re(ae,null,ze(j(m),S=>(te(),re("div",{key:S.id,class:"result-item"},[s("div",bs,[s("img",{src:S.url,alt:S.originalName},null,8,hs)]),s("div",ps,[s("p",xs,G(S.originalName),1),s("p",_s,G(V(S.size)),1)]),a(X,{icon:"mdi-close",size:"small",variant:"text",onClick:g=>I(S.id)},null,8,["onClick"])]))),128))]),s("div",ks,[a(X,{color:"primary",onClick:b},{default:v(()=>x[10]||(x[10]=[R(" 清除列表 ")])),_:1,__:[10]})])])):Pe("",!0),j(h)?(te(),Ke(us,{key:1,type:"error",closable:"","onClick:close":x[5]||(x[5]=S=>h.value=""),class:"mt-4"},{default:v(()=>[R(G(j(h)),1)]),_:1})):Pe("",!0)]))}}),Vs=ut(Ss,[["__scopeId","data-v-2a917647"]]),ws={class:"image-manager"},Cs={class:"toolbar"},Is={class:"toolbar-section"},Ps={class:"toolbar-actions"},$s={class:"stats-bar"},Ts={class:"stat-item"},Bs={class:"stat-item"},Ds={class:"stat-item"},As={class:"image-grid"},Fs=["onClick"],Rs={class:"image-checkbox"},Es=["onClick"],Ls=["src","alt"],Ms={class:"image-overlay"},Os={class:"image-info"},Us=["title"],zs={class:"image-meta"},Ns={class:"image-size"},Hs={class:"image-category"},Gs={key:0,class:"image-tags"},js={class:"image-actions"},Ws={key:0,class:"empty-state"},Ks={key:1,class:"loading-state"},Xs={class:"preview-content"},Ys={class:"preview-image"},qs=["src","alt"],Js={class:"preview-details"},Qs={class:"detail-item"},Zs={class:"detail-item"},ei={class:"detail-item"},ti={class:"detail-item"},li={class:"detail-item"},ai={key:0,class:"detail-item"},ni={key:1,class:"detail-item"},oi=at({__name:"ImageManager",setup(e){const{categories:n,loading:l,deleteImage:t,deleteImages:o,updateImage:i,filterImages:r,categoryOptions:u,totalSize:f,imageCount:h}=ma(),m=E(""),y=E(null),_=E([]),p=E(!1),w=E(!1),V=E(!1),$=E(!1),D=E(null),C=E(null),M=E(null),I=E(!1),b=E(""),T=E("success"),x=E({filename:"",category:"",tagsStr:"",description:""}),S=O(()=>h.value),g=O(()=>[{value:null,title:"所有分类"},...u.value]),c=O(()=>{const H={};return y.value&&(H.category=y.value),m.value&&(H.search=m.value),r(H)}),B=O(()=>Array.isArray(M.value)?`确定要删除选中的 ${M.value.length} 张图片吗？此操作不可撤销。`:"确定要删除这张图片吗？此操作不可撤销。"),U=H=>{if(H===0)return"0 B";const P=1024,N=["B","KB","MB","GB"],oe=Math.floor(Math.log(H)/Math.log(P));return`${parseFloat((H/Math.pow(P,oe)).toFixed(2))} ${N[oe]}`},z=H=>new Date(H).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=H=>{const P=n.value.find(N=>N.id===H);return(P==null?void 0:P.name)||"未知分类"},k=H=>{const P=_.value.indexOf(H);P>-1?_.value.splice(P,1):_.value.push(H)},d=H=>{D.value=H,w.value=!0},A=H=>{C.value=H,x.value={filename:H.filename,category:H.category,tagsStr:H.tags.join(", "),description:H.description||""},V.value=!0},Y=()=>{if(!C.value)return;const H=x.value.tagsStr.split(",").map(oe=>oe.trim()).filter(Boolean),P={filename:x.value.filename,category:x.value.category,tags:H};x.value.description&&(P.description=x.value.description),i(C.value.id,P)?(I.value=!0,b.value="图片信息已更新",T.value="success",V.value=!1):(I.value=!0,b.value="更新失败",T.value="error")},Z=H=>{M.value=H.id,$.value=!0},F=()=>{M.value=[..._.value],$.value=!0},W=()=>{if(Array.isArray(M.value)){const H=o(M.value);_.value=[],I.value=!0,b.value=`已删除 ${H} 张图片`,T.value="success"}else M.value&&(t(M.value)?(I.value=!0,b.value="图片已删除",T.value="success"):(I.value=!0,b.value="删除失败",T.value="error"));$.value=!1,w.value=!1,M.value=null},J=async H=>{try{await navigator.clipboard.writeText(H),I.value=!0,b.value="链接已复制到剪贴板",T.value="success"}catch{I.value=!0,b.value="复制失败",T.value="error"}},ee=H=>{I.value=!0,b.value=`成功上传 ${H.length} 张图片`,T.value="success",_.value=[]},ce=H=>{I.value=!0,b.value=H,T.value="error"};return ve([m,y],()=>{_.value=[]}),(H,P)=>(te(),re("div",ws,[s("div",Cs,[s("div",Is,[a(xe,{modelValue:j(m),"onUpdate:modelValue":P[0]||(P[0]=N=>Le(m)?m.value=N:null),label:"搜索图片","prepend-icon":"mdi-magnify",variant:"outlined",density:"compact",class:"search-field",clearable:""},null,8,["modelValue"]),a(Ye,{modelValue:j(y),"onUpdate:modelValue":P[1]||(P[1]=N=>Le(y)?y.value=N:null),label:"筛选分类",items:j(g),"item-value":"value","item-title":"title",variant:"outlined",density:"compact",class:"category-filter",clearable:""},null,8,["modelValue","items"])]),s("div",Ps,[j(_).length>0?(te(),Ke(X,{key:0,color:"error",variant:"outlined",onClick:F,class:"mr-2"},{default:v(()=>[a(le,{start:""},{default:v(()=>P[20]||(P[20]=[R("mdi-delete")])),_:1,__:[20]}),R(" 删除选中 ("+G(j(_).length)+") ",1)]),_:1})):Pe("",!0),a(X,{color:"primary",onClick:P[2]||(P[2]=N=>p.value=!0)},{default:v(()=>[a(le,{start:""},{default:v(()=>P[21]||(P[21]=[R("mdi-upload")])),_:1,__:[21]}),P[22]||(P[22]=R(" 上传图片 "))]),_:1,__:[22]})])]),s("div",$s,[s("div",Ts,[a(le,null,{default:v(()=>P[23]||(P[23]=[R("mdi-image")])),_:1,__:[23]}),s("span",null,G(j(c).length)+" / "+G(j(S))+" 张图片",1)]),s("div",Bs,[a(le,null,{default:v(()=>P[24]||(P[24]=[R("mdi-harddisk")])),_:1,__:[24]}),s("span",null,G(U(j(f))),1)]),s("div",Ds,[a(le,null,{default:v(()=>P[25]||(P[25]=[R("mdi-folder")])),_:1,__:[25]}),s("span",null,G(j(n).length)+" 个分类",1)])]),s("div",As,[(te(!0),re(ae,null,ze(j(c),N=>(te(),re("div",{key:N.id,class:ue(["image-item",{selected:j(_).includes(N.id)}]),onClick:oe=>k(N.id)},[s("div",Rs,[a(Fn,{"model-value":j(_).includes(N.id),"onUpdate:modelValue":oe=>k(N.id),density:"compact","hide-details":""},null,8,["model-value","onUpdate:modelValue"])]),s("div",{class:"image-preview",onClick:Me(oe=>d(N),["stop"])},[s("img",{src:N.url,alt:N.originalName},null,8,Ls),s("div",Ms,[a(X,{icon:"mdi-eye",size:"small",variant:"text",color:"white"})])],8,Es),s("div",Os,[s("div",{class:"image-name",title:N.originalName},G(N.originalName),9,Us),s("div",zs,[s("span",Ns,G(U(N.size)),1),s("span",Hs,G(L(N.category)),1)]),N.tags.length>0?(te(),re("div",Gs,[(te(!0),re(ae,null,ze(N.tags,oe=>(te(),Ke(De,{key:oe,size:"x-small",variant:"outlined",class:"mr-1"},{default:v(()=>[R(G(oe),1)]),_:2},1024))),128))])):Pe("",!0)]),s("div",js,[a(X,{icon:"mdi-content-copy",size:"small",variant:"text",onClick:Me(oe=>J(N.url),["stop"]),title:"复制链接"},null,8,["onClick"]),a(X,{icon:"mdi-pencil",size:"small",variant:"text",onClick:Me(oe=>A(N),["stop"]),title:"编辑"},null,8,["onClick"]),a(X,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:Me(oe=>Z(N),["stop"]),title:"删除"},null,8,["onClick"])])],10,Fs))),128))]),j(c).length===0&&!j(l)?(te(),re("div",Ws,[a(le,{size:"64",color:"grey"},{default:v(()=>P[26]||(P[26]=[R("mdi-image-off")])),_:1,__:[26]}),s("h3",null,G(j(m)||j(y)?"未找到图片":"还没有图片"),1),s("p",null,G(j(m)||j(y)?"请尝试调整搜索条件":"点击上传按钮开始添加图片"),1)])):Pe("",!0),j(l)?(te(),re("div",Ks,[a(un,{indeterminate:"",color:"primary"}),P[27]||(P[27]=s("p",null,"加载中...",-1))])):Pe("",!0),a(Oe,{modelValue:j(p),"onUpdate:modelValue":P[4]||(P[4]=N=>Le(p)?p.value=N:null),"max-width":"800"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,{class:"d-flex align-center"},{default:v(()=>[a(le,{start:""},{default:v(()=>P[28]||(P[28]=[R("mdi-upload")])),_:1,__:[28]}),P[29]||(P[29]=R(" 上传图片 "))]),_:1,__:[29]}),a(ge,null,{default:v(()=>[a(Vs,{"default-category":j(y)||"general",onUpload:ee,onError:ce},null,8,["default-category"])]),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:P[3]||(P[3]=N=>p.value=!1)},{default:v(()=>P[30]||(P[30]=[R("关闭")])),_:1,__:[30]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Oe,{modelValue:j(w),"onUpdate:modelValue":P[9]||(P[9]=N=>Le(w)?w.value=N:null),"max-width":"1000"},{default:v(()=>[j(D)?(te(),Ke(me,{key:0},{default:v(()=>[a(we,{class:"d-flex align-center justify-space-between"},{default:v(()=>[s("span",null,G(j(D).originalName),1),a(X,{icon:"mdi-close",variant:"text",onClick:P[5]||(P[5]=N=>w.value=!1)})]),_:1}),a(ge,null,{default:v(()=>[s("div",Xs,[s("div",Ys,[s("img",{src:j(D).url,alt:j(D).originalName},null,8,qs)]),s("div",Js,[s("div",Qs,[P[31]||(P[31]=s("strong",null,"文件名:",-1)),R(" "+G(j(D).filename),1)]),s("div",Zs,[P[32]||(P[32]=s("strong",null,"大小:",-1)),R(" "+G(U(j(D).size)),1)]),s("div",ei,[P[33]||(P[33]=s("strong",null,"类型:",-1)),R(" "+G(j(D).type),1)]),s("div",ti,[P[34]||(P[34]=s("strong",null,"分类:",-1)),R(" "+G(L(j(D).category)),1)]),s("div",li,[P[35]||(P[35]=s("strong",null,"上传时间:",-1)),R(" "+G(z(j(D).uploadDate)),1)]),j(D).tags.length>0?(te(),re("div",ai,[P[36]||(P[36]=s("strong",null,"标签:",-1)),(te(!0),re(ae,null,ze(j(D).tags,N=>(te(),Ke(De,{key:N,size:"small",class:"ml-1"},{default:v(()=>[R(G(N),1)]),_:2},1024))),128))])):Pe("",!0),j(D).description?(te(),re("div",ni,[P[37]||(P[37]=s("strong",null,"描述:",-1)),R(" "+G(j(D).description),1)])):Pe("",!0)])])]),_:1}),a(Ae,null,{default:v(()=>[a(X,{onClick:P[6]||(P[6]=N=>J(j(D).url))},{default:v(()=>P[38]||(P[38]=[R("复制链接")])),_:1,__:[38]}),a(X,{onClick:P[7]||(P[7]=N=>A(j(D)))},{default:v(()=>P[39]||(P[39]=[R("编辑")])),_:1,__:[39]}),a($e),a(X,{color:"error",onClick:P[8]||(P[8]=N=>Z(j(D)))},{default:v(()=>P[40]||(P[40]=[R("删除")])),_:1,__:[40]})]),_:1})]),_:1})):Pe("",!0)]),_:1},8,["modelValue"]),a(Oe,{modelValue:j(V),"onUpdate:modelValue":P[15]||(P[15]=N=>Le(V)?V.value=N:null),"max-width":"600"},{default:v(()=>[j(C)?(te(),Ke(me,{key:0},{default:v(()=>[a(we,null,{default:v(()=>P[41]||(P[41]=[R("编辑图片")])),_:1,__:[41]}),a(ge,null,{default:v(()=>[a(xe,{modelValue:j(x).filename,"onUpdate:modelValue":P[10]||(P[10]=N=>j(x).filename=N),label:"文件名",variant:"outlined",class:"mb-3"},null,8,["modelValue"]),a(Ye,{modelValue:j(x).category,"onUpdate:modelValue":P[11]||(P[11]=N=>j(x).category=N),label:"分类",items:j(u),"item-value":"value","item-title":"title",variant:"outlined",class:"mb-3"},null,8,["modelValue","items"]),a(xe,{modelValue:j(x).tagsStr,"onUpdate:modelValue":P[12]||(P[12]=N=>j(x).tagsStr=N),label:"标签 (用逗号分隔)",variant:"outlined",class:"mb-3"},null,8,["modelValue"]),a(ft,{modelValue:j(x).description,"onUpdate:modelValue":P[13]||(P[13]=N=>j(x).description=N),label:"描述",variant:"outlined",rows:"3"},null,8,["modelValue"])]),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:P[14]||(P[14]=N=>V.value=!1)},{default:v(()=>P[42]||(P[42]=[R("取消")])),_:1,__:[42]}),a(X,{color:"primary",onClick:Y},{default:v(()=>P[43]||(P[43]=[R("保存")])),_:1,__:[43]})]),_:1})]),_:1})):Pe("",!0)]),_:1},8,["modelValue"]),a(Oe,{modelValue:j($),"onUpdate:modelValue":P[17]||(P[17]=N=>Le($)?$.value=N:null),"max-width":"400"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,null,{default:v(()=>P[44]||(P[44]=[R("确认删除")])),_:1,__:[44]}),a(ge,null,{default:v(()=>[R(G(j(B)),1)]),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:P[16]||(P[16]=N=>$.value=!1)},{default:v(()=>P[45]||(P[45]=[R("取消")])),_:1,__:[45]}),a(X,{color:"error",onClick:W},{default:v(()=>P[46]||(P[46]=[R("删除")])),_:1,__:[46]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(pt,{modelValue:j(I),"onUpdate:modelValue":P[19]||(P[19]=N=>Le(I)?I.value=N:null),color:j(T),timeout:3e3},{actions:v(()=>[a(X,{variant:"text",onClick:P[18]||(P[18]=N=>I.value=!1)},{default:v(()=>P[47]||(P[47]=[R("关闭")])),_:1,__:[47]})]),default:v(()=>[R(G(j(b))+" ",1)]),_:1},8,["modelValue","color"])]))}}),si=ut(oi,[["__scopeId","data-v-12d3a28e"]]);function ii(){function e(l){var o,i;return[...((o=l.dataTransfer)==null?void 0:o.items)??[]].filter(r=>r.kind==="file").map(r=>r.webkitGetAsEntry()).filter(Boolean).length>0||[...((i=l.dataTransfer)==null?void 0:i.files)??[]].length>0}async function n(l){var i,r;const t=[],o=[...((i=l.dataTransfer)==null?void 0:i.items)??[]].filter(u=>u.kind==="file").map(u=>u.webkitGetAsEntry()).filter(Boolean);if(o.length)for(const u of o){const f=await ga(u,ya(".",u));t.push(...f.map(h=>h.file))}else t.push(...((r=l.dataTransfer)==null?void 0:r.files)??[]);return t}return{handleDrop:n,hasFilesOrFolders:e}}function ga(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((l,t)=>{e.isFile?e.file(i=>l([{file:i,path:n}]),t):e.isDirectory&&e.createReader().readEntries(async i=>{const r=[];for(const u of i)r.push(...await ga(u,ya(n,u)));l(r)})})}function ya(e,n){return n.isDirectory?`${e}/${n.name}`:e}const ui=q({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},..._t({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Ie(e).every(n=>n!=null&&typeof n=="object")},...Ut({clearable:!0})},"VFileInput"),_l=ne()({name:"VFileInput",inheritAttrs:!1,props:ui(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:l,emit:t,slots:o}=n;const{t:i}=Fe(),r=ye(e,"modelValue",e.modelValue,k=>Ie(k),k=>!e.multiple&&Array.isArray(k)?k[0]:k),{isFocused:u,focus:f,blur:h}=xt(e),m=O(()=>typeof e.showSize!="boolean"?e.showSize:void 0),y=O(()=>(r.value??[]).reduce((k,d)=>{let{size:A=0}=d;return k+A},0)),_=O(()=>cl(y.value,m.value)),p=O(()=>(r.value??[]).map(k=>{const{name:d="",size:A=0}=k;return e.showSize?`${d} (${cl(A,m.value)})`:d})),w=O(()=>{var d;const k=((d=r.value)==null?void 0:d.length)??0;return e.showSize?i(e.counterSizeString,k,_.value):i(e.counterString,k)}),V=E(),$=E(),D=E(),C=K(()=>u.value||e.active),M=O(()=>["plain","underlined"].includes(e.variant)),I=be(!1),{handleDrop:b,hasFilesOrFolders:T}=ii();function x(){var k;D.value!==document.activeElement&&((k=D.value)==null||k.focus()),u.value||f()}function S(k){var d;(d=D.value)==null||d.click()}function g(k){t("mousedown:control",k)}function c(k){var d;(d=D.value)==null||d.click(),t("click:control",k)}function B(k){k.stopPropagation(),x(),Ve(()=>{r.value=[],Rt(e["onClick:clear"],k)})}function U(k){k.preventDefault(),k.stopImmediatePropagation(),I.value=!0}function z(k){k.preventDefault(),I.value=!1}async function L(k){if(k.preventDefault(),k.stopImmediatePropagation(),I.value=!1,!D.value||!T(k))return;const d=new DataTransfer;for(const A of await b(k))d.items.add(A);D.value.files=d.files,D.value.dispatchEvent(new Event("change",{bubbles:!0}))}return ve(r,k=>{(!Array.isArray(k)||!k.length)&&D.value&&(D.value.value="")}),se(()=>{const k=!!(o.counter||e.counter),d=!!(k||o.details),[A,Y]=gt(l),{modelValue:Z,...F}=je.filterProps(e),W=et.filterProps(e);return a(je,Q({ref:V,modelValue:e.multiple?r.value:r.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":I.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":M.value},e.class],style:e.style,"onClick:prepend":S},A,F,{centerAffix:!M.value,focused:u.value}),{...o,default:J=>{let{id:ee,isDisabled:ce,isDirty:H,isReadonly:P,isValid:N}=J;return a(et,Q({ref:$,"prepend-icon":e.prependIcon,onMousedown:g,onClick:c,"onClick:clear":B,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},W,{id:ee.value,active:C.value||H.value,dirty:H.value||e.dirty,disabled:ce.value,focused:u.value,error:N.value===!1,onDragover:U,onDrop:L}),{...o,default:oe=>{var fe;let{props:{class:he,...Be}}=oe;return s(ae,null,[s("input",Q({ref:D,type:"file",readonly:P.value,disabled:ce.value,multiple:e.multiple,name:e.name,onClick:ie=>{ie.stopPropagation(),P.value&&ie.preventDefault(),x()},onChange:ie=>{if(!ie.target)return;const Ee=ie.target;r.value=[...Ee.files??[]]},onDragleave:z,onFocus:x,onBlur:h},Be,Y),null),s("div",{class:ue(he)},[!!((fe=r.value)!=null&&fe.length)&&!e.hideInput&&(o.selection?o.selection({fileNames:p.value,totalBytes:y.value,totalBytesReadable:_.value}):e.chips?p.value.map(ie=>a(De,{key:ie,size:"small",text:ie},null)):p.value.join(", "))])])}})},details:d?J=>{var ee,ce;return s(ae,null,[(ee=o.details)==null?void 0:ee.call(o,J),k&&s(ae,null,[s("span",null,null),a(ol,{active:!!((ce=r.value)!=null&&ce.length),value:w.value,disabled:e.disabled},o.counter)])])}:void 0})}),it({},V,$,D)}}),il=Symbol.for("vuetify:v-tabs"),ri=q({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...yt(rn({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),qt=ne()({name:"VTab",props:ri(),setup(e,n){let{slots:l,attrs:t}=n;const{textColorClasses:o,textColorStyles:i}=ot(()=>e.sliderColor),r=E(),u=E(),f=O(()=>e.direction==="horizontal"),h=O(()=>{var y,_;return((_=(y=r.value)==null?void 0:y.group)==null?void 0:_.isSelected.value)??!1});function m(y){var p,w;let{value:_}=y;if(_){const V=(w=(p=r.value)==null?void 0:p.$el.parentElement)==null?void 0:w.querySelector(".v-tab--selected .v-tab__slider"),$=u.value;if(!V||!$)return;const D=getComputedStyle(V).color,C=V.getBoundingClientRect(),M=$.getBoundingClientRect(),I=f.value?"x":"y",b=f.value?"X":"Y",T=f.value?"right":"bottom",x=f.value?"width":"height",S=C[I],g=M[I],c=S>g?C[T]-M[T]:C[I]-M[I],B=Math.sign(c)>0?f.value?"right":"bottom":Math.sign(c)<0?f.value?"left":"top":"center",z=(Math.abs(c)+(Math.sign(c)<0?C[x]:M[x]))/Math.max(C[x],M[x])||0,L=C[x]/M[x]||0,k=1.5;Vl($,{backgroundColor:[D,"currentcolor"],transform:[`translate${b}(${c}px) scale${b}(${L})`,`translate${b}(${c/k}px) scale${b}(${(z-1)/k+1})`,"none"],transformOrigin:Array(3).fill(B)},{duration:225,easing:wl})}}return se(()=>{const y=X.filterProps(e);return a(X,Q({symbol:il,ref:r,class:["v-tab",e.class],style:e.style,tabindex:h.value?0:-1,role:"tab","aria-selected":String(h.value),active:!1},y,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":m}),{...l,default:()=>{var _;return s(ae,null,[((_=l.default)==null?void 0:_.call(l))??e.text,!e.hideSlider&&s("div",{ref:u,class:ue(["v-tab__slider",o.value]),style:_e(i.value)},null)])}})}),it({},r)}}),di=e=>{const{touchstartX:n,touchendX:l,touchstartY:t,touchendY:o}=e,i=.5,r=16;e.offsetX=l-n,e.offsetY=o-t,Math.abs(e.offsetY)<i*Math.abs(e.offsetX)&&(e.left&&l<n-r&&e.left(e),e.right&&l>n+r&&e.right(e)),Math.abs(e.offsetX)<i*Math.abs(e.offsetY)&&(e.up&&o<t-r&&e.up(e),e.down&&o>t+r&&e.down(e))};function ci(e,n){var t;const l=e.changedTouches[0];n.touchstartX=l.clientX,n.touchstartY=l.clientY,(t=n.start)==null||t.call(n,{originalEvent:e,...n})}function vi(e,n){var t;const l=e.changedTouches[0];n.touchendX=l.clientX,n.touchendY=l.clientY,(t=n.end)==null||t.call(n,{originalEvent:e,...n}),di(n)}function fi(e,n){var t;const l=e.changedTouches[0];n.touchmoveX=l.clientX,n.touchmoveY=l.clientY,(t=n.move)==null||t.call(n,{originalEvent:e,...n})}function mi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:l=>ci(l,n),touchend:l=>vi(l,n),touchmove:l=>fi(l,n)}}function gi(e,n){var u;const l=n.value,t=l!=null&&l.parent?e.parentElement:e,o=(l==null?void 0:l.options)??{passive:!0},i=(u=n.instance)==null?void 0:u.$.uid;if(!t||!i)return;const r=mi(n.value);t._touchHandlers=t._touchHandlers??Object.create(null),t._touchHandlers[i]=r,Il(r).forEach(f=>{t.addEventListener(f,r[f],o)})}function yi(e,n){var i,r;const l=(i=n.value)!=null&&i.parent?e.parentElement:e,t=(r=n.instance)==null?void 0:r.$.uid;if(!(l!=null&&l._touchHandlers)||!t)return;const o=l._touchHandlers[t];Il(o).forEach(u=>{l.removeEventListener(u,o[u])}),delete l._touchHandlers[t]}const Jt={mounted:gi,unmounted:yi},ba=Symbol.for("vuetify:v-window"),ha=Symbol.for("vuetify:v-window-group"),pa=q({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Se(),...nt(),...Ne()},"VWindow"),Qt=ne()({name:"VWindow",directives:{vTouch:Jt},props:pa(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:l}=n;const{themeClasses:t}=tt(e),{isRtl:o}=Ft(),{t:i}=Fe(),r=dn(e,ha),u=E(),f=O(()=>o.value?!e.reverse:e.reverse),h=be(!1),m=O(()=>{const I=e.direction==="vertical"?"y":"x",T=(f.value?!h.value:h.value)?"-reverse":"";return`v-window-${I}${T}-transition`}),y=be(0),_=E(void 0),p=O(()=>r.items.value.findIndex(I=>r.selected.value.includes(I.id)));ve(p,(I,b)=>{const T=r.items.value.length,x=T-1;T<=2?h.value=I<b:I===x&&b===0?h.value=!0:I===0&&b===x?h.value=!1:h.value=I<b}),He(ba,{transition:m,isReversed:h,transitionCount:y,transitionHeight:_,rootRef:u});const w=K(()=>e.continuous||p.value!==0),V=K(()=>e.continuous||p.value!==r.items.value.length-1);function $(){w.value&&r.prev()}function D(){V.value&&r.next()}const C=O(()=>{const I=[],b={icon:o.value?e.nextIcon:e.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:r.prev,"aria-label":i("$vuetify.carousel.prev")};I.push(w.value?l.prev?l.prev({props:b}):a(X,b,null):s("div",null,null));const T={icon:o.value?e.prevIcon:e.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:r.next,"aria-label":i("$vuetify.carousel.next")};return I.push(V.value?l.next?l.next({props:T}):a(X,T,null):s("div",null,null)),I}),M=O(()=>e.touch===!1?e.touch:{...{left:()=>{f.value?$():D()},right:()=>{f.value?D():$()},start:b=>{let{originalEvent:T}=b;T.stopPropagation()}},...e.touch===!0?{}:e.touch});return se(()=>Te(a(e.tag,{ref:u,class:ue(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},t.value,e.class]),style:_e(e.style)},{default:()=>{var I,b;return[s("div",{class:"v-window__container",style:{height:_.value}},[(I=l.default)==null?void 0:I.call(l,{group:r}),e.showArrows!==!1&&s("div",{class:"v-window__controls"},[C.value])]),(b=l.additional)==null?void 0:b.call(l,{group:r})]}}),[[Jt,M.value]])),{group:r}}}),bi=q({...yt(pa(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),hi=ne()({name:"VTabsWindow",props:bi(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:l}=n;const t=Re(il,null),o=ye(e,"modelValue"),i=O({get(){var r;return o.value!=null||!t?o.value:(r=t.items.value.find(u=>t.selected.value.includes(u.id)))==null?void 0:r.value},set(r){o.value=r}});return se(()=>{const r=Qt.filterProps(e);return a(Qt,Q({_as:"VTabsWindow"},r,{modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),xa=q({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Se(),...vn(),...bn()},"VWindowItem"),At=ne()({name:"VWindowItem",directives:{vTouch:Jt},props:xa(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:l}=n;const t=Re(ba),o=cn(e,ha),{isBooted:i}=Ka();if(!t||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=be(!1),u=O(()=>i.value&&(t.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function f(){!r.value||!t||(r.value=!1,t.transitionCount.value>0&&(t.transitionCount.value-=1,t.transitionCount.value===0&&(t.transitionHeight.value=void 0)))}function h(){var w;r.value||!t||(r.value=!0,t.transitionCount.value===0&&(t.transitionHeight.value=ke((w=t.rootRef.value)==null?void 0:w.clientHeight)),t.transitionCount.value+=1)}function m(){f()}function y(w){r.value&&Ve(()=>{!u.value||!r.value||!t||(t.transitionHeight.value=ke(w.clientHeight))})}const _=O(()=>{const w=t.isReversed.value?e.reverseTransition:e.transition;return u.value?{name:typeof w!="string"?t.transition.value:w,onBeforeEnter:h,onAfterEnter:f,onEnterCancelled:m,onBeforeLeave:h,onAfterLeave:f,onLeaveCancelled:m,onEnter:y}:!1}),{hasContent:p}=yn(e,o.isSelected);return se(()=>a(Lt,{transition:_.value,disabled:!i.value},{default:()=>{var w;return[Te(s("div",{class:ue(["v-window-item",o.selectedClass.value,e.class]),style:_e(e.style)},[p.value&&((w=l.default)==null?void 0:w.call(l))]),[[Ge,o.isSelected.value]])]}})),{groupItem:o}}}),pi=q({...xa()},"VTabsWindowItem"),xi=ne()({name:"VTabsWindowItem",props:pi(),setup(e,n){let{slots:l}=n;return se(()=>{const t=At.filterProps(e);return a(At,Q({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function _i(e){return e?e.map(n=>Ma(n)?n:{text:n,value:n}):[]}const ki=q({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...hn({mandatory:"force",selectedClass:"v-tab-item--selected"}),...st(),...nt()},"VTabs"),Si=ne()({name:"VTabs",props:ki(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:l,slots:t}=n;const o=ye(e,"modelValue"),i=O(()=>_i(e.items)),{densityClasses:r}=ht(e),{backgroundColorClasses:u,backgroundColorStyles:f}=bt(()=>e.bgColor),{scopeId:h}=Xa();return dt({VTab:{color:K(()=>e.color),direction:K(()=>e.direction),stacked:K(()=>e.stacked),fixed:K(()=>e.fixedTabs),sliderColor:K(()=>e.sliderColor),hideSlider:K(()=>e.hideSlider)}}),se(()=>{const m=ml.filterProps(e),y=!!(t.window||e.items.length>0);return s(ae,null,[a(ml,Q(m,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,u.value,e.class],style:[{"--v-tabs-height":ke(e.height)},f.value,e.style],role:"tablist",symbol:il},h,l),{default:()=>{var _;return[((_=t.default)==null?void 0:_.call(t))??i.value.map(p=>{var w;return((w=t.tab)==null?void 0:w.call(t,{item:p}))??a(qt,Q(p,{key:p.text,value:p.value}),{default:t[`tab.${p.value}`]?()=>{var V;return(V=t[`tab.${p.value}`])==null?void 0:V.call(t,{item:p})}:void 0})})]}}),y&&a(hi,Q({modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,key:"tabs-window"},h),{default:()=>{var _;return[i.value.map(p=>{var w;return((w=t.item)==null?void 0:w.call(t,{item:p}))??a(xi,{value:p.value},{default:()=>{var V;return(V=t[`item.${p.value}`])==null?void 0:V.call(t,{item:p})}})}),(_=t.window)==null?void 0:_.call(t)]}})])}),{}}}),Vi={class:"homepage-manager"},wi={class:"tab-content"},Ci={class:"content-header"},Ii={class:"section-title"},Pi={class:"current-background"},$i={class:"background-preview"},Ti=["src"],Bi={class:"preview-overlay"},Di={class:"preset-images"},Ai={class:"preset-grid"},Fi=["onClick"],Ri=["src","alt"],Ei={class:"preset-overlay"},Li={class:"upload-section"},Mi={class:"button-settings"},Oi={class:"tab-content"},Ui={class:"content-header"},zi={class:"section-title"},Ni={class:"partners-grid"},Hi={class:"partner-logo"},Gi=["src","alt"],ji={class:"partner-info"},Wi=["href"],Ki={class:"partner-actions"},Xi={key:0,class:"empty-state"},Yi={key:0,class:"logo-preview"},qi=["src"],Ji=at({__name:"HomepageManager",setup(e){const n=E("background"),l=E(!1),t=E(!1),o=E(!1),i=E(!1),r=E(!1),u=E(""),f=E("success"),h=E("/images/default-hero-bg.svg"),m=E([]),y=E({title:"夢の家探しを<br>お手伝いします。",description:"商品の香りもとてもよく、お客様にも大変喜ばれております。ヴァルプデートツイス、<br>トチョコレートの利点もあります。悲しい湖の観えも、ウラムコーパー・ルトラム",button1Text:"私たちについて",button1Link:"/about",button2Text:"サービス詳細",button2Link:"/services"}),_=E([]),p=E({name:"",description:"",link:"",logo:""}),w=E([]),V=E(null),$=E(null),D=E(null),C=[{name:"珈琲事業",url:"/images/hero-bg-1.svg"},{name:"展示・イベント",url:"/images/hero-bg-2.svg"},{name:"技術研究開発",url:"/images/hero-bg-3.svg"},{name:"コミュニティ運営",url:"/images/hero-bg-4.svg"},{name:"イノベーション",url:"/images/hero-bg-5.svg"},{name:"未来ビジョン",url:"/images/hero-bg-6.svg"}],M=()=>{try{const k=localStorage.getItem("notrace_homepage");if(k){const d=JSON.parse(k);d.background&&(h.value=d.background),d.heroContent&&(y.value={...y.value,...d.heroContent}),d.partners&&(_.value=d.partners)}}catch(k){console.error("Failed to load settings:",k)}},I=()=>{try{const k={background:h.value,heroContent:y.value,partners:_.value};localStorage.setItem("notrace_homepage",JSON.stringify(k))}catch(k){console.error("Failed to save settings:",k)}},b=k=>{h.value=k.url,I(),r.value=!0,u.value=`已设置为: ${k.name}`,f.value="success"},T=k=>{const d=Array.isArray(k)?k:[k];if(d&&d.length>0){const A=d[0];if(A.type.startsWith("image/")){const Y=new FileReader;Y.onload=Z=>{var F;h.value=(F=Z.target)==null?void 0:F.result,I(),r.value=!0,u.value="背景图片已上传",f.value="success"},Y.readAsDataURL(A)}else r.value=!0,u.value="请选择图片文件",f.value="error"}},x=()=>{window.open(h.value,"_blank")},S=()=>{l.value=!0,setTimeout(()=>{I(),l.value=!1,r.value=!0,u.value="Hero内容已保存",f.value="success"},500)},g=k=>{const d=Array.isArray(k)?k:[k];if(d&&d.length>0){const A=d[0];if(A.type.startsWith("image/")){const Y=new FileReader;Y.onload=Z=>{var F;p.value.logo=(F=Z.target)==null?void 0:F.result},Y.readAsDataURL(A)}}},c=(k,d)=>{V.value=d,p.value={...k},t.value=!0},B=(k,d)=>{$.value=k,D.value=d,o.value=!0},U=()=>{D.value!==null&&(_.value.splice(D.value,1),I(),r.value=!0,u.value="合作伙伴已删除",f.value="success"),o.value=!1,$.value=null,D.value=null},z=()=>{V.value!==null?(_.value[V.value]={...p.value},r.value=!0,u.value="合作伙伴已更新",f.value="success"):(_.value.push({...p.value}),r.value=!0,u.value="合作伙伴已添加",f.value="success"),I(),L()},L=()=>{t.value=!1,V.value=null,p.value={name:"",description:"",link:"",logo:""},w.value=[]};return We(()=>{M()}),(k,d)=>(te(),re("div",Vi,[a(Si,{modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=A=>n.value=A),color:"primary",class:"mb-6"},{default:v(()=>[a(qt,{value:"background"},{default:v(()=>[a(le,{start:""},{default:v(()=>d[20]||(d[20]=[R("mdi-image")])),_:1,__:[20]}),d[21]||(d[21]=R(" 背景图片管理 "))]),_:1,__:[21]}),a(qt,{value:"partners"},{default:v(()=>[a(le,{start:""},{default:v(()=>d[22]||(d[22]=[R("mdi-handshake")])),_:1,__:[22]}),d[23]||(d[23]=R(" 合作伙伴管理 "))]),_:1,__:[23]})]),_:1},8,["modelValue"]),a(Qt,{modelValue:n.value,"onUpdate:modelValue":d[9]||(d[9]=A=>n.value=A)},{default:v(()=>[a(At,{value:"background"},{default:v(()=>[s("div",wi,[s("div",Ci,[s("h2",Ii,[a(le,{start:""},{default:v(()=>d[24]||(d[24]=[R("mdi-image")])),_:1,__:[24]}),d[25]||(d[25]=R(" Hero背景图片管理 "))]),d[26]||(d[26]=s("p",{class:"section-description"}," 管理首页Hero区域的背景图片和内容设置 ",-1))]),a(Ce,null,{default:v(()=>[a(de,{cols:"12",md:"6"},{default:v(()=>[a(me,{title:"背景图片设置"},{default:v(()=>[a(ge,null,{default:v(()=>[s("div",Pi,[s("div",$i,[s("img",{src:h.value,alt:"当前背景",class:"preview-image"},null,8,Ti),s("div",Bi,[a(X,{icon:"mdi-eye",color:"white",onClick:x})])]),d[27]||(d[27]=s("div",{class:"background-info"},[s("h4",null,"当前背景"),s("p",null,"点击预设图片或上传自定义图片来更换背景")],-1))]),a(vt,{class:"my-4"}),s("div",Di,[d[29]||(d[29]=s("h4",{class:"mb-3"},"预设背景图片",-1)),s("div",Ai,[(te(),re(ae,null,ze(C,(A,Y)=>s("div",{key:Y,class:ue(["preset-item",{active:h.value===A.url}]),onClick:Z=>b(A)},[s("img",{src:A.url,alt:A.name},null,8,Ri),s("div",Ei,[a(le,{color:"white"},{default:v(()=>d[28]||(d[28]=[R("mdi-check")])),_:1,__:[28]})])],10,Fi)),64))])]),a(vt,{class:"my-4"}),s("div",Li,[d[30]||(d[30]=s("h4",{class:"mb-3"},"上传自定义背景",-1)),a(_l,{modelValue:m.value,"onUpdate:modelValue":[d[1]||(d[1]=A=>m.value=A),T],label:"选择图片文件",accept:"image/*","prepend-icon":"mdi-upload",variant:"outlined"},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),a(de,{cols:"12",md:"6"},{default:v(()=>[a(me,{title:"Hero内容设置"},{default:v(()=>[a(ge,null,{default:v(()=>[a(Yt,null,{default:v(()=>[a(ft,{modelValue:y.value.title,"onUpdate:modelValue":d[2]||(d[2]=A=>y.value.title=A),label:"主标题",variant:"outlined",rows:"2",class:"mb-3"},null,8,["modelValue"]),a(ft,{modelValue:y.value.description,"onUpdate:modelValue":d[3]||(d[3]=A=>y.value.description=A),label:"描述文字",variant:"outlined",rows:"3",class:"mb-3"},null,8,["modelValue"]),s("div",Mi,[d[31]||(d[31]=s("h4",{class:"mb-3"},"按钮设置",-1)),a(Ce,null,{default:v(()=>[a(de,{cols:"6"},{default:v(()=>[a(xe,{modelValue:y.value.button1Text,"onUpdate:modelValue":d[4]||(d[4]=A=>y.value.button1Text=A),label:"按钮1文字",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),a(de,{cols:"6"},{default:v(()=>[a(xe,{modelValue:y.value.button1Link,"onUpdate:modelValue":d[5]||(d[5]=A=>y.value.button1Link=A),label:"按钮1链接",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),a(Ce,null,{default:v(()=>[a(de,{cols:"6"},{default:v(()=>[a(xe,{modelValue:y.value.button2Text,"onUpdate:modelValue":d[6]||(d[6]=A=>y.value.button2Text=A),label:"按钮2文字",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),a(de,{cols:"6"},{default:v(()=>[a(xe,{modelValue:y.value.button2Link,"onUpdate:modelValue":d[7]||(d[7]=A=>y.value.button2Link=A),label:"按钮2链接",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{color:"primary",onClick:S,loading:l.value},{default:v(()=>d[32]||(d[32]=[R(" 保存设置 ")])),_:1,__:[32]},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),a(At,{value:"partners"},{default:v(()=>[s("div",Oi,[s("div",Ui,[s("h2",zi,[a(le,{start:""},{default:v(()=>d[33]||(d[33]=[R("mdi-handshake")])),_:1,__:[33]}),d[34]||(d[34]=R(" 合作伙伴管理 "))]),d[35]||(d[35]=s("p",{class:"section-description"}," 管理首页合作伙伴Logo和链接 ",-1))]),a(me,null,{default:v(()=>[a(we,{class:"d-flex align-center"},{default:v(()=>[d[37]||(d[37]=s("span",null,"合作伙伴列表",-1)),a($e),a(X,{color:"primary",onClick:d[8]||(d[8]=A=>t.value=!0),"prepend-icon":"mdi-plus"},{default:v(()=>d[36]||(d[36]=[R(" 添加合作伙伴 ")])),_:1,__:[36]})]),_:1,__:[37]}),a(ge,null,{default:v(()=>[s("div",Ni,[(te(!0),re(ae,null,ze(_.value,(A,Y)=>(te(),re("div",{key:Y,class:"partner-item"},[s("div",Hi,[s("img",{src:A.logo,alt:A.name},null,8,Gi)]),s("div",ji,[s("h4",null,G(A.name),1),s("p",null,G(A.description),1),s("a",{href:A.link,target:"_blank",class:"partner-link"},G(A.link),9,Wi)]),s("div",Ki,[a(X,{icon:"mdi-pencil",size:"small",variant:"text",onClick:Z=>c(A,Y)},null,8,["onClick"]),a(X,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:Z=>B(A,Y)},null,8,["onClick"])])]))),128))]),_.value.length===0?(te(),re("div",Xi,[a(le,{size:"64",color:"grey"},{default:v(()=>d[38]||(d[38]=[R("mdi-handshake-outline")])),_:1,__:[38]}),d[39]||(d[39]=s("h3",null,"还没有合作伙伴",-1)),d[40]||(d[40]=s("p",null,'点击"添加合作伙伴"开始添加',-1))])):Pe("",!0)]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"]),a(Oe,{modelValue:t.value,"onUpdate:modelValue":d[15]||(d[15]=A=>t.value=A),"max-width":"600"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,null,{default:v(()=>[R(G(V.value!==null?"编辑合作伙伴":"添加合作伙伴"),1)]),_:1}),a(ge,null,{default:v(()=>[a(Yt,{modelValue:i.value,"onUpdate:modelValue":d[14]||(d[14]=A=>i.value=A)},{default:v(()=>[a(xe,{modelValue:p.value.name,"onUpdate:modelValue":d[10]||(d[10]=A=>p.value.name=A),label:"合作伙伴名称",rules:[A=>!!A||"请输入名称"],variant:"outlined",required:""},null,8,["modelValue","rules"]),a(xe,{modelValue:p.value.description,"onUpdate:modelValue":d[11]||(d[11]=A=>p.value.description=A),label:"描述",variant:"outlined"},null,8,["modelValue"]),a(xe,{modelValue:p.value.link,"onUpdate:modelValue":d[12]||(d[12]=A=>p.value.link=A),label:"网站链接",rules:[A=>!!A||"请输入链接"],variant:"outlined",required:""},null,8,["modelValue","rules"]),a(_l,{modelValue:w.value,"onUpdate:modelValue":[d[13]||(d[13]=A=>w.value=A),g],label:"Logo图片",accept:"image/*","prepend-icon":"mdi-upload",variant:"outlined"},null,8,["modelValue"]),p.value.logo?(te(),re("div",Yi,[s("img",{src:p.value.logo,alt:"Logo预览",class:"preview-logo"},null,8,qi)])):Pe("",!0)]),_:1},8,["modelValue"])]),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:L},{default:v(()=>d[41]||(d[41]=[R("取消")])),_:1,__:[41]}),a(X,{color:"primary",disabled:!i.value,onClick:z},{default:v(()=>d[42]||(d[42]=[R(" 保存 ")])),_:1,__:[42]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Oe,{modelValue:o.value,"onUpdate:modelValue":d[17]||(d[17]=A=>o.value=A),"max-width":"400"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,null,{default:v(()=>d[43]||(d[43]=[R("确认删除")])),_:1,__:[43]}),a(ge,null,{default:v(()=>{var A;return[R(' 确定要删除合作伙伴"'+G((A=$.value)==null?void 0:A.name)+'"吗？ ',1)]}),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:d[16]||(d[16]=A=>o.value=!1)},{default:v(()=>d[44]||(d[44]=[R("取消")])),_:1,__:[44]}),a(X,{color:"error",onClick:U},{default:v(()=>d[45]||(d[45]=[R("删除")])),_:1,__:[45]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(pt,{modelValue:r.value,"onUpdate:modelValue":d[19]||(d[19]=A=>r.value=A),color:f.value,timeout:3e3},{actions:v(()=>[a(X,{variant:"text",onClick:d[18]||(d[18]=A=>r.value=!1)},{default:v(()=>d[46]||(d[46]=[R("关闭")])),_:1,__:[46]})]),default:v(()=>[R(G(u.value)+" ",1)]),_:1},8,["modelValue","color"])]))}}),Qi=ut(Ji,[["__scopeId","data-v-968226e1"]]),Zi={class:"analytics-manager"},eu={class:"overview-cards"},tu={class:"stat-content"},lu={class:"stat-icon"},au={class:"stat-info"},nu={class:"stat-number"},ou={class:"stat-content"},su={class:"stat-icon"},iu={class:"stat-info"},uu={class:"stat-number"},ru={class:"stat-content"},du={class:"stat-icon"},cu={class:"stat-info"},vu={class:"stat-number"},fu={class:"stat-content"},mu={class:"stat-icon"},gu={class:"stat-info"},yu={class:"stat-number"},bu={class:"charts-section"},hu={class:"chart-container"},pu={class:"chart-container"},xu={class:"details-section"},_u={class:"system-section"},ku={class:"system-info"},Su={class:"system-info"},Vu={class:"system-info"},wu={class:"actions-section"},Cu={class:"action-buttons"},Iu=at({__name:"AnalyticsManager",setup(e){const n=E(!1),l=E(!1),t=E(""),o=E("success"),i=E(),r=E(),u=E({totalArticles:0,totalImages:0,totalStorage:0,lastUpdate:""}),f=E([]),h=E([]),m=E({storageUsed:0,storageAvailable:0,storagePercentage:0,browser:"",version:"",platform:"",loadTime:0,memoryUsage:0,online:!0}),y=g=>{if(g===0)return"0 B";const c=1024,B=["B","KB","MB","GB"],U=Math.floor(Math.log(g)/Math.log(c));return`${parseFloat((g/Math.pow(c,U)).toFixed(2))} ${B[U]}`},_=g=>({企業ニュース:"blue",サービス:"green",コーヒー事業:"brown","展示・イベント":"purple","釣具・器具":"orange","LAB・研究開発":"red",クラブ活動:"pink"})[g]||"grey",p=()=>{try{const g=localStorage.getItem("notrace_articles"),c=g?JSON.parse(g):[],B=localStorage.getItem("notrace_images"),U=B?JSON.parse(B):[];u.value.totalArticles=c.length,u.value.totalImages=U.length,u.value.totalStorage=U.reduce((d,A)=>d+A.size,0);const z=c.sort((d,A)=>new Date(A.date).getTime()-new Date(d.date).getTime())[0];u.value.lastUpdate=z?D(z.date):"无数据";const L=new Map;c.forEach(d=>{const A=L.get(d.category)||0;L.set(d.category,A+1)}),f.value=Array.from(L.entries()).map(([d,A])=>({category:d,count:A,percentage:Math.round(A/c.length*100)}));const k=new Map;U.forEach(d=>{const A=k.get(d.category)||{count:0,size:0};k.set(d.category,{count:A.count+1,size:A.size+d.size})}),h.value=Array.from(k.entries()).map(([d,A])=>({category:d,count:A.count,size:A.size})),w()}catch(g){console.error("Failed to load analytics data:",g)}},w=()=>{var B;let g=0;for(let U in localStorage)localStorage.hasOwnProperty(U)&&(g+=((B=localStorage.getItem(U))==null?void 0:B.length)||0);m.value.storageUsed=g,m.value.storageAvailable=5*1024*1024,m.value.storagePercentage=Math.round(g/m.value.storageAvailable*100);const c=navigator.userAgent;m.value.browser=V(c),m.value.version=$(c),m.value.platform=navigator.platform,m.value.loadTime=Math.round(performance.now()),m.value.memoryUsage=performance.memory?Math.round(performance.memory.usedJSHeapSize/1024/1024):0,m.value.online=navigator.onLine},V=g=>g.includes("Chrome")?"Chrome":g.includes("Firefox")?"Firefox":g.includes("Safari")?"Safari":g.includes("Edge")?"Edge":"Unknown",$=g=>{const c=g.match(/(Chrome|Firefox|Safari|Edge)\/(\d+)/);return c?c[2]:"Unknown"},D=g=>{const c=new Date(g.replace(/\./g,"-")),U=new Date().getTime()-c.getTime(),z=Math.floor(U/(1e3*60*60*24));return z===0?"今天":z===1?"昨天":z<7?`${z}天前`:z<30?`${Math.floor(z/7)}周前`:`${Math.floor(z/30)}月前`},C=()=>{Ve(()=>{M(),I()})},M=()=>{const g=i.value;if(!g)return;const c=g.getContext("2d");if(!c)return;c.clearRect(0,0,g.width,g.height);const B=g.width/2,U=g.height/2,z=Math.min(B,U)-20;let L=0;const k=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b"];f.value.forEach((d,A)=>{const Y=d.percentage/100*2*Math.PI;c.beginPath(),c.arc(B,U,z,L,L+Y),c.lineTo(B,U),c.fillStyle=k[A%k.length],c.fill(),L+=Y})},I=()=>{const g=r.value;if(!g)return;const c=g.getContext("2d");if(!c)return;c.clearRect(0,0,g.width,g.height);const B=40,U=g.width-B*2,z=g.height-B*2;if(h.value.length===0)return;const L=Math.max(...h.value.map(d=>d.count)),k=U/h.value.length;h.value.forEach((d,A)=>{const Y=d.count/L*z,Z=B+A*k,F=B+z-Y;c.fillStyle="#667eea",c.fillRect(Z+5,F,k-10,Y),c.fillStyle="#333",c.font="12px sans-serif",c.textAlign="center",c.fillText(d.category,Z+k/2,g.height-10),c.fillText(d.count.toString(),Z+k/2,F-5)})},b=async()=>{n.value=!0;try{await new Promise(g=>setTimeout(g,1e3)),p(),C(),l.value=!0,t.value="数据已刷新",o.value="success"}catch{l.value=!0,t.value="刷新失败",o.value="error"}finally{n.value=!1}},T=()=>{try{const g={statistics:u.value,articleStats:f.value,imageStats:h.value,systemInfo:m.value,exportTime:new Date().toISOString()},c=JSON.stringify(g,null,2),B=new Blob([c],{type:"application/json"}),U=URL.createObjectURL(B),z=document.createElement("a");z.href=U,z.download=`notrace-analytics-${new Date().toISOString().split("T")[0]}.json`,z.click(),URL.revokeObjectURL(U),l.value=!0,t.value="数据导出完成",o.value="success"}catch{l.value=!0,t.value="导出失败",o.value="error"}},x=()=>{try{const g=["notrace_articles","notrace_images","notrace_homepage","notrace_image_categories"];let c=0;for(let B in localStorage)B.startsWith("notrace_")&&!g.includes(B)&&(localStorage.removeItem(B),c++);p(),l.value=!0,t.value=`已清理 ${c} 个缓存项`,o.value="success"}catch{l.value=!0,t.value="清理失败",o.value="error"}},S=()=>{try{const g={title:"NO TRACE EXPLORER 数据分析报告",generateTime:new Date().toLocaleString("zh-CN"),summary:{totalArticles:u.value.totalArticles,totalImages:u.value.totalImages,storageUsage:y(u.value.totalStorage)},insights:[`共发布了 ${u.value.totalArticles} 篇文章`,`上传了 ${u.value.totalImages} 张图片`,`使用了 ${y(u.value.totalStorage)} 存储空间`,`最后更新时间: ${u.value.lastUpdate}`],recommendations:["定期备份重要数据","清理不必要的缓存文件","优化图片大小以节省存储空间","保持内容更新频率"]},c=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${g.title}</title>
        <meta charset="utf-8">
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
          h1 { color: #667eea; }
          h2 { color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px; }
          .summary { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
          .insight, .recommendation { margin: 10px 0; padding: 10px; background: #fff; border-left: 4px solid #667eea; }
        </style>
      </head>
      <body>
        <h1>${g.title}</h1>
        <p><strong>生成时间:</strong> ${g.generateTime}</p>
        
        <h2>数据概览</h2>
        <div class="summary">
          <p><strong>文章总数:</strong> ${g.summary.totalArticles}</p>
          <p><strong>图片总数:</strong> ${g.summary.totalImages}</p>
          <p><strong>存储使用:</strong> ${g.summary.storageUsage}</p>
        </div>
        
        <h2>数据洞察</h2>
        ${g.insights.map(L=>`<div class="insight">${L}</div>`).join("")}
        
        <h2>建议</h2>
        ${g.recommendations.map(L=>`<div class="recommendation">${L}</div>`).join("")}
      </body>
      </html>
    `,B=new Blob([c],{type:"text/html"}),U=URL.createObjectURL(B),z=document.createElement("a");z.href=U,z.download=`notrace-report-${new Date().toISOString().split("T")[0]}.html`,z.click(),URL.revokeObjectURL(U),l.value=!0,t.value="报告生成完成",o.value="success"}catch{l.value=!0,t.value="报告生成失败",o.value="error"}};return We(()=>{p(),C(),window.addEventListener("online",()=>{m.value.online=!0}),window.addEventListener("offline",()=>{m.value.online=!1})}),(g,c)=>(te(),re("div",Zi,[s("div",eu,[a(Ce,null,{default:v(()=>[a(de,{cols:"12",sm:"6",md:"3"},{default:v(()=>[a(me,{class:"stat-card"},{default:v(()=>[a(ge,null,{default:v(()=>[s("div",tu,[s("div",lu,[a(le,{size:"32",color:"blue"},{default:v(()=>c[2]||(c[2]=[R("mdi-newspaper")])),_:1,__:[2]})]),s("div",au,[s("div",nu,G(u.value.totalArticles),1),c[3]||(c[3]=s("div",{class:"stat-label"},"总文章数",-1))])])]),_:1})]),_:1})]),_:1}),a(de,{cols:"12",sm:"6",md:"3"},{default:v(()=>[a(me,{class:"stat-card"},{default:v(()=>[a(ge,null,{default:v(()=>[s("div",ou,[s("div",su,[a(le,{size:"32",color:"green"},{default:v(()=>c[4]||(c[4]=[R("mdi-image")])),_:1,__:[4]})]),s("div",iu,[s("div",uu,G(u.value.totalImages),1),c[5]||(c[5]=s("div",{class:"stat-label"},"图片总数",-1))])])]),_:1})]),_:1})]),_:1}),a(de,{cols:"12",sm:"6",md:"3"},{default:v(()=>[a(me,{class:"stat-card"},{default:v(()=>[a(ge,null,{default:v(()=>[s("div",ru,[s("div",du,[a(le,{size:"32",color:"orange"},{default:v(()=>c[6]||(c[6]=[R("mdi-harddisk")])),_:1,__:[6]})]),s("div",cu,[s("div",vu,G(y(u.value.totalStorage)),1),c[7]||(c[7]=s("div",{class:"stat-label"},"存储使用",-1))])])]),_:1})]),_:1})]),_:1}),a(de,{cols:"12",sm:"6",md:"3"},{default:v(()=>[a(me,{class:"stat-card"},{default:v(()=>[a(ge,null,{default:v(()=>[s("div",fu,[s("div",mu,[a(le,{size:"32",color:"purple"},{default:v(()=>c[8]||(c[8]=[R("mdi-clock")])),_:1,__:[8]})]),s("div",gu,[s("div",yu,G(u.value.lastUpdate),1),c[9]||(c[9]=s("div",{class:"stat-label"},"最后更新",-1))])])]),_:1})]),_:1})]),_:1})]),_:1})]),s("div",bu,[a(Ce,null,{default:v(()=>[a(de,{cols:"12",md:"6"},{default:v(()=>[a(me,{title:"文章分类分布"},{default:v(()=>[a(ge,null,{default:v(()=>[s("div",hu,[s("canvas",{ref_key:"categoryChart",ref:i,width:"400",height:"300"},null,512)])]),_:1})]),_:1})]),_:1}),a(de,{cols:"12",md:"6"},{default:v(()=>[a(me,{title:"图片分类统计"},{default:v(()=>[a(ge,null,{default:v(()=>[s("div",pu,[s("canvas",{ref_key:"imageChart",ref:r,width:"400",height:"300"},null,512)])]),_:1})]),_:1})]),_:1})]),_:1})]),s("div",xu,[a(Ce,null,{default:v(()=>[a(de,{cols:"12",md:"6"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,{class:"d-flex align-center"},{default:v(()=>[a(le,{start:""},{default:v(()=>c[10]||(c[10]=[R("mdi-newspaper")])),_:1,__:[10]}),c[11]||(c[11]=R(" 文章统计详情 "))]),_:1,__:[11]}),a(ge,null,{default:v(()=>[a(Dt,{density:"compact"},{default:v(()=>[c[12]||(c[12]=s("thead",null,[s("tr",null,[s("th",null,"分类"),s("th",null,"数量"),s("th",null,"占比")])],-1)),s("tbody",null,[(te(!0),re(ae,null,ze(f.value,B=>(te(),re("tr",{key:B.category},[s("td",null,[a(De,{color:_(B.category),size:"small"},{default:v(()=>[R(G(B.category),1)]),_:2},1032,["color"])]),s("td",null,G(B.count),1),s("td",null,G(B.percentage)+"%",1)]))),128))])]),_:1,__:[12]})]),_:1})]),_:1})]),_:1}),a(de,{cols:"12",md:"6"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,{class:"d-flex align-center"},{default:v(()=>[a(le,{start:""},{default:v(()=>c[13]||(c[13]=[R("mdi-image")])),_:1,__:[13]}),c[14]||(c[14]=R(" 图片统计详情 "))]),_:1,__:[14]}),a(ge,null,{default:v(()=>[a(Dt,{density:"compact"},{default:v(()=>[c[15]||(c[15]=s("thead",null,[s("tr",null,[s("th",null,"分类"),s("th",null,"数量"),s("th",null,"大小")])],-1)),s("tbody",null,[(te(!0),re(ae,null,ze(h.value,B=>(te(),re("tr",{key:B.category},[s("td",null,G(B.category),1),s("td",null,G(B.count),1),s("td",null,G(y(B.size)),1)]))),128))])]),_:1,__:[15]})]),_:1})]),_:1})]),_:1})]),_:1})]),s("div",_u,[a(me,null,{default:v(()=>[a(we,{class:"d-flex align-center"},{default:v(()=>[a(le,{start:""},{default:v(()=>c[16]||(c[16]=[R("mdi-information")])),_:1,__:[16]}),c[17]||(c[17]=R(" 系统使用情况 "))]),_:1,__:[17]}),a(ge,null,{default:v(()=>[a(Ce,null,{default:v(()=>[a(de,{cols:"12",md:"4"},{default:v(()=>[s("div",ku,[c[21]||(c[21]=s("h4",null,"存储详情",-1)),s("p",null,[c[18]||(c[18]=s("strong",null,"LocalStorage使用:",-1)),R(" "+G(y(m.value.storageUsed)),1)]),s("p",null,[c[19]||(c[19]=s("strong",null,"可用空间:",-1)),R(" "+G(y(m.value.storageAvailable)),1)]),s("p",null,[c[20]||(c[20]=s("strong",null,"使用率:",-1)),R(" "+G(m.value.storagePercentage)+"%",1)])])]),_:1}),a(de,{cols:"12",md:"4"},{default:v(()=>[s("div",Su,[c[25]||(c[25]=s("h4",null,"浏览器信息",-1)),s("p",null,[c[22]||(c[22]=s("strong",null,"浏览器:",-1)),R(" "+G(m.value.browser),1)]),s("p",null,[c[23]||(c[23]=s("strong",null,"版本:",-1)),R(" "+G(m.value.version),1)]),s("p",null,[c[24]||(c[24]=s("strong",null,"平台:",-1)),R(" "+G(m.value.platform),1)])])]),_:1}),a(de,{cols:"12",md:"4"},{default:v(()=>[s("div",Vu,[c[29]||(c[29]=s("h4",null,"性能监控",-1)),s("p",null,[c[26]||(c[26]=s("strong",null,"页面加载时间:",-1)),R(" "+G(m.value.loadTime)+"ms",1)]),s("p",null,[c[27]||(c[27]=s("strong",null,"内存使用:",-1)),R(" "+G(m.value.memoryUsage)+"MB",1)]),s("p",null,[c[28]||(c[28]=s("strong",null,"连接状态:",-1)),a(De,{color:m.value.online?"success":"error",size:"small"},{default:v(()=>[R(G(m.value.online?"在线":"离线"),1)]),_:1},8,["color"])])])]),_:1})]),_:1})]),_:1})]),_:1})]),s("div",wu,[a(Ce,null,{default:v(()=>[a(de,{cols:"12"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,null,{default:v(()=>c[30]||(c[30]=[R("数据管理操作")])),_:1,__:[30]}),a(ge,null,{default:v(()=>[s("div",Cu,[a(X,{color:"primary","prepend-icon":"mdi-refresh",onClick:b,loading:n.value},{default:v(()=>c[31]||(c[31]=[R(" 刷新数据 ")])),_:1,__:[31]},8,["loading"]),a(X,{color:"success","prepend-icon":"mdi-download",onClick:T},{default:v(()=>c[32]||(c[32]=[R(" 导出数据 ")])),_:1,__:[32]}),a(X,{color:"warning","prepend-icon":"mdi-broom",onClick:x},{default:v(()=>c[33]||(c[33]=[R(" 清理数据 ")])),_:1,__:[33]}),a(X,{color:"info","prepend-icon":"mdi-chart-line",onClick:S},{default:v(()=>c[34]||(c[34]=[R(" 生成报告 ")])),_:1,__:[34]})])]),_:1})]),_:1})]),_:1})]),_:1})]),a(pt,{modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=B=>l.value=B),color:o.value,timeout:3e3},{actions:v(()=>[a(X,{variant:"text",onClick:c[0]||(c[0]=B=>l.value=!1)},{default:v(()=>c[35]||(c[35]=[R("关闭")])),_:1,__:[35]})]),default:v(()=>[R(G(t.value)+" ",1)]),_:1},8,["modelValue","color"])]))}}),Pu=ut(Iu,[["__scopeId","data-v-86369a80"]]),$u=q({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:pe,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Se(),...Rl({location:"top end"}),...Ot(),...nt(),...Ne(),...Mt({transition:"scale-rotate-transition"})},"VBadge"),Tu=ne()({name:"VBadge",inheritAttrs:!1,props:$u(),setup(e,n){const{backgroundColorClasses:l,backgroundColorStyles:t}=bt(()=>e.color),{roundedClasses:o}=ll(e),{t:i}=Fe(),{textColorClasses:r,textColorStyles:u}=ot(()=>e.textColor),{themeClasses:f}=Oa(),{locationStyles:h}=Fl(e,!0,m=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(m)?Number(e.offsetY??0):["left","right"].includes(m)?Number(e.offsetX??0):0));return se(()=>{const m=Number(e.content),y=!e.max||isNaN(m)?e.content:m<=Number(e.max)?m:`${e.max}+`,[_,p]=Ua(n.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,Q({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},p,{style:e.style}),{default:()=>{var w,V;return[s("div",{class:"v-badge__wrapper"},[(V=(w=n.slots).default)==null?void 0:V.call(w),a(Lt,{transition:e.transition},{default:()=>{var $,D;return[Te(s("span",Q({class:["v-badge__badge",f.value,l.value,o.value,r.value],style:[t.value,u.value,e.inline?{}:h.value],"aria-atomic":"true","aria-label":i(e.label,m),"aria-live":"polite",role:"status"},_),[e.dot?void 0:n.slots.badge?(D=($=n.slots).badge)==null?void 0:D.call($):e.icon?a(le,{icon:e.icon},null):y]),[[Ge,e.modelValue]])]}})])]}})}),{}}}),Bu={class:"admin-dashboard"},Du={class:"drawer-header"},Au={class:"user-info"},Fu={class:"main-content"},Ru={class:"tab-headers"},Eu={class:"tab-header-content"},Lu={class:"page-title"},Mu={class:"page-subtitle"},Ou={class:"tab-content"},Uu={class:"tab-panel"},zu={class:"tab-panel"},Nu={class:"tab-panel"},Hu={class:"tab-panel"},Gu={class:"system-info"},ju={class:"info-item"},Wu={class:"info-item"},Ku={class:"info-item"},Xu=at({__name:"index",setup(e){const n=Na(),l=E(!0),t=E("articles"),o=E(!1),i=E(!1),r=E(""),u=E("success"),f=[{value:"articles",title:"文章管理",subtitle:"管理企业新闻和文章",icon:"mdi-newspaper",badge:null},{value:"images",title:"图片管理",subtitle:"上传和管理图片素材",icon:"mdi-image-multiple",badge:null},{value:"homepage",title:"首页管理",subtitle:"管理首页内容和背景",icon:"mdi-home-variant",badge:null},{value:"analytics",title:"数据分析",subtitle:"查看网站统计数据",icon:"mdi-chart-line",badge:null}],h=O(()=>{const I=f.find(b=>b.value===t.value);return(I==null?void 0:I.icon)||"mdi-cog"}),m=O(()=>{const I=f.find(b=>b.value===t.value);return(I==null?void 0:I.title)||"管理中心"}),y=O(()=>{const I=f.find(b=>b.value===t.value);return(I==null?void 0:I.subtitle)||""}),_=O(()=>new Date().toLocaleString("zh-CN")),p=O(()=>{var I;try{let b=0;for(let T in localStorage)localStorage.hasOwnProperty(T)&&(b+=((I=localStorage.getItem(T))==null?void 0:I.length)||0);return`${(b/1024).toFixed(2)} KB`}catch{return"无法获取"}}),w=O(()=>navigator.userAgent.split(" ").slice(0,3).join(" ")),V=()=>{n.push("/")},$=()=>{window.location.reload()},D=()=>{try{const I={articles:localStorage.getItem("notrace_articles"),images:localStorage.getItem("notrace_images"),homepage:localStorage.getItem("notrace_homepage"),analytics:localStorage.getItem("notrace_analytics"),timestamp:new Date().toISOString()},b=JSON.stringify(I,null,2),T=new Blob([b],{type:"application/json"}),x=URL.createObjectURL(T),S=document.createElement("a");S.href=x,S.download=`notrace-backup-${new Date().toISOString().split("T")[0]}.json`,S.click(),URL.revokeObjectURL(x),i.value=!0,r.value="数据备份已下载",u.value="success"}catch{i.value=!0,r.value="备份失败",u.value="error"}},C=()=>{try{const I=["notrace_articles","notrace_images","notrace_homepage","notrace_image_categories"],b=[];for(let T in localStorage)T.startsWith("notrace_")&&!I.includes(T)&&b.push(T);b.forEach(T=>{localStorage.removeItem(T)}),i.value=!0,r.value=`已清理 ${b.length} 个缓存项`,u.value="success"}catch{i.value=!0,r.value="清理缓存失败",u.value="error"}},M=()=>{o.value=!0};return We(()=>{const b=new URLSearchParams(window.location.search).get("tab");b&&f.some(T=>T.value===b)&&(t.value=b)}),ve(t,I=>{const b=new URL(window.location.href);b.searchParams.set("tab",I),window.history.replaceState({},"",b.toString())}),Ha({title:"NO TRACE EXPLORER 管理中心",meta:[{name:"description",content:"NO TRACE EXPLORER 企业网站管理中心"},{name:"robots",content:"noindex, nofollow"}]}),(I,b)=>(te(),re("div",Bu,[a(Ja,{color:"primary",density:"comfortable",elevation:"2",app:""},{prepend:v(()=>[a(qa,{onClick:b[0]||(b[0]=T=>l.value=!l.value)})]),default:v(()=>[a(Ya,{class:"toolbar-title"},{default:v(()=>[a(le,{start:""},{default:v(()=>b[6]||(b[6]=[R("mdi-cog")])),_:1,__:[6]}),b[7]||(b[7]=R(" NO TRACE EXPLORER 管理中心 "))]),_:1,__:[7]}),a($e),a(X,{icon:"mdi-home",onClick:V,title:"返回首页"}),a(X,{icon:"mdi-refresh",onClick:$,title:"刷新数据"})]),_:1}),a(Za,{modelValue:l.value,"onUpdate:modelValue":b[1]||(b[1]=T=>l.value=T),app:"",width:"280",color:"grey-lighten-5"},{default:v(()=>[s("div",Du,[s("div",Au,[a($l,{color:"primary",size:"48"},{default:v(()=>[a(le,null,{default:v(()=>b[8]||(b[8]=[R("mdi-account")])),_:1,__:[8]})]),_:1}),b[9]||(b[9]=s("div",{class:"user-details"},[s("div",{class:"user-name"},"管理员"),s("div",{class:"user-role"},"系统管理员")],-1))])]),a(vt),a(Kt,{nav:"",density:"compact"},{default:v(()=>[(te(),re(ae,null,ze(f,T=>a(Je,{key:T.value,"prepend-icon":T.icon,title:T.title,subtitle:T.subtitle,active:t.value===T.value,onClick:x=>t.value=T.value,class:"nav-item"},za({_:2},[T.badge?{name:"append",fn:v(()=>[a(Tu,{content:T.badge,color:"error",inline:""},null,8,["content"])]),key:"0"}:void 0]),1032,["prepend-icon","title","subtitle","active","onClick"])),64))]),_:1}),a(vt,{class:"my-3"}),a(Kt,{nav:"",density:"compact"},{default:v(()=>[a(Qa,null,{default:v(()=>b[10]||(b[10]=[R("系统设置")])),_:1,__:[10]}),a(Je,{"prepend-icon":"mdi-backup-restore",title:"数据备份",onClick:D}),a(Je,{"prepend-icon":"mdi-delete-sweep",title:"清理缓存",onClick:C}),a(Je,{"prepend-icon":"mdi-information",title:"系统信息",onClick:M})]),_:1})]),_:1},8,["modelValue"]),a(pn,null,{default:v(()=>[s("div",Fu,[s("div",Ru,[s("div",Eu,[s("h1",Lu,[a(le,{start:""},{default:v(()=>[R(G(h.value),1)]),_:1}),R(" "+G(m.value),1)]),s("p",Mu,G(y.value),1)])]),s("div",Ou,[Te(s("div",Uu,[a(ls)],512),[[Ge,t.value==="articles"]]),Te(s("div",zu,[a(si)],512),[[Ge,t.value==="images"]]),Te(s("div",Nu,[a(Qi)],512),[[Ge,t.value==="homepage"]]),Te(s("div",Hu,[a(Pu)],512),[[Ge,t.value==="analytics"]])])])]),_:1}),a(Oe,{modelValue:o.value,"onUpdate:modelValue":b[3]||(b[3]=T=>o.value=T),"max-width":"600"},{default:v(()=>[a(me,null,{default:v(()=>[a(we,{class:"d-flex align-center"},{default:v(()=>[a(le,{start:""},{default:v(()=>b[11]||(b[11]=[R("mdi-information")])),_:1,__:[11]}),b[12]||(b[12]=R(" 系统信息 "))]),_:1,__:[12]}),a(ge,null,{default:v(()=>[s("div",Gu,[b[16]||(b[16]=s("div",{class:"info-item"},[s("strong",null,"系统版本:"),R(" NO TRACE EXPLORER v2.5.1 ")],-1)),s("div",ju,[b[13]||(b[13]=s("strong",null,"构建时间:",-1)),R(" "+G(_.value),1)]),b[17]||(b[17]=s("div",{class:"info-item"},[s("strong",null,"技术栈:"),R(" Nuxt 3.17.6 + Vuetify 3.4.0 + TypeScript ")],-1)),s("div",Wu,[b[14]||(b[14]=s("strong",null,"存储使用:",-1)),R(" "+G(p.value),1)]),s("div",Ku,[b[15]||(b[15]=s("strong",null,"浏览器:",-1)),R(" "+G(w.value),1)])])]),_:1}),a(Ae,null,{default:v(()=>[a($e),a(X,{onClick:b[2]||(b[2]=T=>o.value=!1)},{default:v(()=>b[18]||(b[18]=[R("关闭")])),_:1,__:[18]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(pt,{modelValue:i.value,"onUpdate:modelValue":b[5]||(b[5]=T=>i.value=T),color:u.value,timeout:3e3,location:"top"},{actions:v(()=>[a(X,{variant:"text",onClick:b[4]||(b[4]=T=>i.value=!1)},{default:v(()=>b[19]||(b[19]=[R("关闭")])),_:1,__:[19]})]),default:v(()=>[R(G(r.value)+" ",1)]),_:1},8,["modelValue","color"])]))}}),sr=ut(Xu,[["__scopeId","data-v-e65f7d52"]]);export{sr as default};
